<html><head>
<style type="text/css">
td{ vertical-align:top;
 background-color:white;
 white-space:nowrap;
 font-family:lucida console,monospace;
 font-weight:bold; font-size:x-large;}
code{ font-size:large; text-transform:lowercase;}
.t1{ color:#ddaa00;}
.h2{ color:#aa7700; font-style:italic;}
.d2{ color:#ddaa00;}
.t3{ color:#ff0000;}
.t4{ color:#00cc00;}
.h5{ color:#009900; font-style:italic;}
.d5{ color:#00cc00;}
.h6{ color:#009900; font-style:italic;}
.d6{ color:#00cc00;}
.t7{ color:#00cccc;}
.h8{ color:#aa7700; font-style:italic;}
.d8{ color:#ddaa00;}
.t9{ color:#444444;}
.ta{ color:#000000; text-transform:capitalize;}
.tb{ color:#000000; text-transform:uppercase;}
.tc{ color:#ff00ff;}
.dc{ color:#00ff00;}
.hd{ color:#bbbbbb; font-style:italic;}
.te{ color:#0000ff;}
.hf{ color:#777777; font-style:italic;}
.df{ color:#444444;}
</style>
</head><body><table>
<tr>
<td class=cf><br><code class=t9>talk to chip via sram windows async</code><code class=te><br><br></code><code class=t3>1@</code><code class=t9> and</code><code class=t4> 1!</code><code class=t9> byte fetch and store, byte address.</code><code class=t3><br>2@</code><code class=t9> and</code><code class=t4> 2!</code><code class=t9> halfcell fetch/store, byte adr.</code><code class=t3><br>swab</code><code class=t9> and</code><code class=t4> swa4</code><code class=t9> 2-way and 4-way byte swaps.</code><code class=t3><br>a-b</code><code class=t9> and</code><code class=t4> b-a</code><code class=t9> convert cells to+from bytes.</code><code class=te><br><br></code><code class=t3>create</code><code class=t9> used after</code><code class=t1> align</code><code class=t9> to exit with word adr <br>of cell following in dictionary.</code><code class=t1> note that</code><code class=te><br></code><code class=t1>writing into such allocations invalidates</code><code class=te><br></code><code class=t1>nearby instruction cache!</code><code class=t3><br>rez</code><code class=t9> allots n bytes in the dictionary.</code><code class=t3><br>?zero</code><code class=t9> classical zero-equal returning 0 or</code><code class=te><br></code><code class=t9>-1 with indicators.</code><code class=te><br><br></code><code class=t3>act</code><code class=t9> number of selected path, to which</code><code class=t4> vport</code><code class=te><br></code><code class=t9>leads.</code><code class=t3><br>cold</code><code class=t9> sets no active paths.</code><code class=t3><br>reload</code><code class=t9> reset and resend all nodes to chip</code><code class=t3><br>re4th</code><code class=t9> recompile ide and nodes, then reload</code><code class=te><br><br></code><code class=t7>***no canonical opcodes***</code><code class=te><br></code><code class=t1>use the</code><code class=t4> 'remote'</code><code class=t1> ones&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>700 list
<br><code class=t9>windows async</code><code class=d8> 700</code><code class=t1> orgn ! macro</code><code class=t9> replaces</code><code class=df> 114</code><code class=t3><br>1@</code><code class=t9> b-c</code><code class=h6> 8A</code><code class=t4> 2, ;</code><code class=te></code><code class=t3> &nbsp;1!</code><code class=t9> cb</code><code class=t7> a!</code><code class=h6> 288</code><code class=t4> 2,</code><code class=t7> drop</code><code class=t4> ;</code><code class=t3><br>2@</code><code class=t9> b-h</code><code class=h6> 8B66</code><code class=t4> 3, ;</code><code class=te></code><code class=t3> &nbsp;2!</code><code class=t9> hb</code><code class=t7> a!</code><code class=h6> 28966</code><code class=t4> 3,</code><code class=t7> drop</code><code class=t4> ;</code><code class=t3><br>4@</code><code class=t9> b-n</code><code class=h6> 8B</code><code class=t4> 2, ;</code><code class=te></code><code class=t3> &nbsp;4!</code><code class=t9> nb</code><code class=t7> a!</code><code class=h6> 289</code><code class=t4> 2,</code><code class=t7> drop</code><code class=t4> ;</code><code class=t3><br>swab</code><code class=t9> h-h</code><code class=h6> C486</code><code class=t4> 2, ;</code><code class=t3><br>swa4</code><code class=t9> n-n</code><code class=h6> C80F</code><code class=t4> 2, ;</code><code class=t1> forth</code><code class=t3><br>a-b</code><code class=t9> a-b</code><code class=t4> 2* 2* ;</code><code class=te></code><code class=t3> &nbsp;b-a</code><code class=t9> b-a</code><code class=d8> 3</code><code class=t4> + 2/ 2/ ;</code><code class=t3><br>create</code><code class=t9> -a</code><code class=t4> pop b-a ;</code><code class=te></code><code class=t3> &nbsp;rez</code><code class=t9> n</code><code class=t4> h +! ;</code><code class=t3><br>?zero</code><code class=t9> n-n</code><code class=d8> 0</code><code class=t4> or if dup or ; then</code><code class=t9> -</code><code class=d8> -1</code><code class=t4> or ;</code><code class=t3><br>s1+</code><code class=t9> nm-mn'</code><code class=t4> swap</code><code class=d8> 1</code><code class=t4> + ;</code><code class=te><br><br></code><code class=tc>act</code><code class=dc> 1</code><code class=tc> vport</code><code class=dc> 277</code><code class=tc> 0tg</code><code class=dc> 7</code><code class=tc> 1tg</code><code class=dc> 6</code><code class=tc> 2tg</code><code class=dc> 1</code><code class=t3><br>cold</code><code class=d6> 1</code><code class=t1> 0tg</code><code class=t4> !</code><code class=d6> 1</code><code class=t1> 1tg</code><code class=t4> !</code><code class=d6> 1</code><code class=t1> 2tg</code><code class=t4> !</code><code class=d6> 0</code><code class=t1> act</code><code class=t4> ! ;</code><code class=te><br><br></code><code class=t9>ser</code><code class=d8> 116 2</code><code class=t1> loads</code><code class=t9> routes</code><code class=d8> 702</code><code class=t1> load</code><code class=te><br></code><code class=t9>generic</code><code class=d8> 122 5</code><code class=t1> loads</code><code class=t9> rops+ports</code><code class=d8> 706</code><code class=t1> load</code><code class=te><br></code><code class=t9>panel</code><code class=d8> 134</code><code class=t1> load</code><code class=t9> user</code><code class=d8> 136</code><code class=t1> load</code><code class=d8> 142</code><code class=t1> load</code><code class=te><br></code><code class=t9>eforth ide</code><code class=d8> 760 4</code><code class=t1> loads</code><code class=t9> stack stepper</code><code class=d8> 768</code><code class=t1> load</code><code class=te><br><br></code><code class=t3>re4th</code><code class=t4> talk e4th ;</code><code class=t9> e4th defined in block</code><code class=df> 900</code><code class=t3><br>e4go</code><code class=t9> from206</code><code class=d6> 0 206</code><code class=t4> hook</code><code class=t9> focus</code><code class=t1> right</code><code class=t4> call</code><code class=te><br></code><code class=t9>start106</code><code class=h6> 11575</code><code class=t9> 'left ;'</code><code class=t1> up</code><code class=t4> r! ;</code><code class=t3><br>reload</code><code class=d8> 704</code><code class=t4> load ;</code><code class=t1> reload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t3>0pa</code><code class=t9> winds through serial, bitsy, and stack</code><code class=te><br></code><code class=t9>nodes for ide access.</code><code class=t3><br>1pa</code><code class=t9> goes directly to sram.</code><code class=t3><br>2pa</code><code class=t9> is the default, touching every node on the<br>chip.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>702 list
<br><code class=t9>node</code><code class=df> 708</code><code class=t9> route lists -- stack -- replaces</code><code class=df> 120</code><code class=t3><br>0pa</code><code class=t4> align create</code><code class=t9> serial+e4core</code><code class=d8> 708</code><code class=t1> ,</code><code class=d8> 707</code><code class=t1> ,</code><code class=d8> 607</code><code class=t1><br>,</code><code class=d8> 507</code><code class=t1> ,</code><code class=d8> 407</code><code class=t1> ,</code><code class=d8> 307</code><code class=t1> ,</code><code class=d8> 207</code><code class=t1> ,</code><code class=d8> 206</code><code class=t1> ,</code><code class=d8> 106</code><code class=t1> ,</code><code class=d8> 105</code><code class=t1> ,</code><code class=d8> 10<br>4</code><code class=t1> ,</code><code class=d8> 204</code><code class=t1> ,</code><code class=d8> 203</code><code class=t1> ,</code><code class=d8> 202</code><code class=t1> ,</code><code class=d8> 201</code><code class=t1> ,</code><code class=d8> 200</code><code class=t1> ,</code><code class=d8> 100</code><code class=t1> ,</code><code class=d8> 101</code><code class=t1> ,</code><code class=d8> <br>102</code><code class=t1> ,</code><code class=d8> 103</code><code class=t1> ,</code><code class=d8> -1</code><code class=t1> ,</code><code class=t3><br>1pa</code><code class=t4> align create</code><code class=t9> sram</code><code class=d8> 708</code><code class=t1> ,</code><code class=d8> 608</code><code class=t1> ,</code><code class=d8> 508</code><code class=t1> ,</code><code class=d8> 408</code><code class=t1> ,</code><code class=d8> <br>308</code><code class=t1> ,</code><code class=d8> 208</code><code class=t1> ,</code><code class=d8> 108</code><code class=t1> ,</code><code class=d8> 107</code><code class=t1> ,</code><code class=d8> 7</code><code class=t1> ,</code><code class=d8> 8</code><code class=t1> ,</code><code class=d8> 9</code><code class=t1> ,</code><code class=d8> -1</code><code class=t1> ,</code><code class=t3><br>2pa</code><code class=t4> align create</code><code class=d8> 708</code><code class=t1> ,</code><code class=d8> 709</code><code class=t1> ,</code><code class=d8> 710</code><code class=t1> ,</code><code class=d8> 711</code><code class=t1> ,</code><code class=d8> 712</code><code class=t1> ,</code><code class=d8><br>713</code><code class=t1> ,</code><code class=d8> 714</code><code class=t1> ,</code><code class=d8> 715</code><code class=t1> ,</code><code class=d8> 716</code><code class=t1> ,</code><code class=d8> 717</code><code class=t1> ,</code><code class=d8> 617</code><code class=t1> ,</code><code class=d8> 517</code><code class=t1> ,</code><code class=d8> 417</code><code class=t1> <br>,</code><code class=d8> 317</code><code class=t1> ,</code><code class=d8> 217</code><code class=t1> ,</code><code class=d8> 117</code><code class=t1> ,</code><code class=d8> 17</code><code class=t1> ,</code><code class=d8> 16</code><code class=t1> ,</code><code class=d8> 15</code><code class=t1> ,</code><code class=d8> 14</code><code class=t1> ,</code><code class=d8> 13</code><code class=t1> ,</code><code class=d8> 1<br>2</code><code class=t1> ,</code><code class=d8> 11</code><code class=t1> ,</code><code class=d8> 10</code><code class=t1> ,</code><code class=d8> 9</code><code class=t1> ,</code><code class=d8> 8</code><code class=t1> ,</code><code class=d8> 7</code><code class=t1> ,</code><code class=d8> 6</code><code class=t1> ,</code><code class=d8> 5</code><code class=t1> ,</code><code class=d8> 4</code><code class=t1> ,</code><code class=d8> 3</code><code class=t1> ,</code><code class=d8> 2</code><code class=t1> ,</code><code class=d8> <br>1</code><code class=t1> ,</code><code class=d8> 0</code><code class=t1> ,</code><code class=d8> 100</code><code class=t1> ,</code><code class=d8> 101</code><code class=t1> ,</code><code class=d8> 102</code><code class=t1> ,</code><code class=d8> 103</code><code class=t1> ,</code><code class=d8> 104</code><code class=t1> ,</code><code class=d8> 105</code><code class=t1> ,</code><code class=d8> 10<br>6</code><code class=t1> ,</code><code class=d8> 107</code><code class=t1> ,</code><code class=d8> 108</code><code class=t1> ,</code><code class=d8> 109</code><code class=t1> ,</code><code class=d8> 110</code><code class=t1> ,</code><code class=d8> 111</code><code class=t1> ,</code><code class=d8> 112</code><code class=t1> ,</code><code class=d8> 113</code><code class=t1> ,</code><code class=d8> <br>114</code><code class=t1> ,</code><code class=d8> 115</code><code class=t1> ,</code><code class=d8> 116</code><code class=t1> ,</code><code class=t9> rest</code><code class=d8> 140</code><code class=t1> load&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>eforth load script runs after ...</code><code class=te><br><br></code><code class=t9>first,</code><code class=t1> empty</code><code class=t9> just in case.</code><code class=te><br></code><code class=t9>next,</code><code class=t1> compile</code><code class=t9> code from script in block</code><code class=d6> 718</code><code class=te><br></code><code class=t9>then, compile ide</code><code class=d8> 700</code><code class=t1> load</code><code class=t9> and</code><code class=t1> reload</code><code class=t9> chip</code><code class=te><br><br></code><code class=t9>during development various functions are</code><code class=te><br></code><code class=t9>commented out so they can be done by hand.</code><code class=te><br><br></code><code class=t9>the load order leaves the ide in the stack</code><code class=te><br></code><code class=t9>node for access to memory and single stepping.<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>704 list
<br><code class=t9>eforth stack load script</code><code class=te><br><br></code><code class=t9>initialize ide</code><code class=t1> talk</code><code class=d8> 2 708</code><code class=t1> hook</code><code class=d8> 2</code><code class=t1> -hook</code><code class=te><br></code><code class=t9>panel upd exit</code><code class=te><br><br></code><code class=t9>load sram driver</code><code class=d8> 714</code><code class=t1> load</code><code class=t9> exit</code><code class=te><br></code><code class=t9>load serial terminal</code><code class=d8> 716</code><code class=t1> load</code><code class=t9> exit</code><code class=te><br><br></code><code class=t9>node105 bitsy</code><code class=d8> 0 105</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> left call</code><code class=te><br></code><code class=t9>start104</code><code class=t1> right</code><code class=df> 104</code><code class=t1> start</code><code class=te><br></code><code class=t9>init105</code><code class=t1> right lit ra! left lit rb!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=h8> FFE0</code><code class=t1> lit</code><code class=t9> rp</code><code class=t1> 'cold lit</code><code class=t9> ip</code><code class=te><br><br></code><code class=t9>node106 stack</code><code class=d8> 0 106</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> up call</code><code class=te><br></code><code class=t9>start105</code><code class=h8> 1142A</code><code class=t9> 'bitsy ;'</code><code class=t1> left r!</code><code class=te><br></code><code class=t9>init106</code><code class=t1> right lit rb!</code><code class=t9> io lit ra!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 0</code><code class=t1> lit</code><code class=t9> sp</code><code class=d8> 0</code><code class=t1> lit</code><code class=t9> s</code><code class=d8> 0</code><code class=t1> lit</code><code class=t9> t</code><code class=te><br><br></code><code class=t9>copy eforth.bin !e4th</code><code class=te><br><br></code><code class=t1>panel upd exit</code><code class=te><br><br></code><code class=t9>start eforth</code><code class=t1> e4go&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>single instruction words that may be executed <br>by the target. these must end with return for <br>s40 restriction compliance.</code><code class=te><br><br></code><code class=t9>the following won't work on s40 due to bug 1.</code><code class=t3><br>r@p+</code><code class=h8> C</code><code class=t4> rop ;</code><code class=t3><br>psh</code><code class=t9> n</code><code class=t4> r@p+</code><code class=t9> value</code><code class=t4> rins ;</code><code class=te><br><br></code><code class=t9>additional opcodes and ports were added&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>706 list
<br><code class=t9>remote instructions -- replaces block</code><code class=df> 132</code><code class=t3><br>compile</code><code class=t4> recompile ;</code><code class=t3><br>focus</code><code class=t4> paths targets @ + dup @ swap</code><code class=d6> -1</code><code class=t4> + @ wall<br>port call ;</code><code class=t3><br>virgin</code><code class=t4> paths targets @ + @ avail call ;</code><code class=te><br><br></code><code class=t3>rop</code><code class=t9> n</code><code class=h8> A</code><code class=t4> or</code><code class=d8> 13</code><code class=t4> for 2* next</code><code class=t9> ;s</code><code class=h8> 1555</code><code class=t4> + rins upd ;</code><code class=t3><br>@+</code><code class=h8> 9</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;!+</code><code class=h8> D</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;!b</code><code class=h8> E</code><code class=t4> rop ;</code><code class=t3><br>r+*</code><code class=h8> 10</code><code class=t4> rop ;</code><code class=t3><br>r2*</code><code class=h8> 11</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;r2/</code><code class=h8> 12</code><code class=t4> rop ;</code><code class=t3><br>r-</code><code class=h8> 13</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;r+</code><code class=h8> 14</code><code class=t4> rop ;</code><code class=t3><br>rand</code><code class=h8> 15</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;ror</code><code class=h8> 16</code><code class=t4> rop ;</code><code class=t3><br>rdrop</code><code class=h8> 17</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;rdup</code><code class=h8> 18</code><code class=t4> rop ;</code><code class=t3><br>rover</code><code class=h8> 1A</code><code class=t4> rop ;</code><code class=t3><br>ra!</code><code class=h8> 1F</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;ra@</code><code class=h8> 1B</code><code class=t4> rop ;</code><code class=t3><br>rb!</code><code class=h8> 1E</code><code class=t4> rop ;</code><code class=t3><br>@b</code><code class=h8> A</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;@a</code><code class=h8> B</code><code class=t4> rop ;</code><code class=te></code><code class=t3> &nbsp;!a</code><code class=h8> F</code><code class=t4> rop ;</code><code class=te><br><br></code><code class=t3>'rd--</code><code class=h6> 195</code><code class=t4> ;</code><code class=te></code><code class=t3> &nbsp;'r-l-</code><code class=h6> 1F5</code><code class=t4> ;</code><code class=te></code><code class=t3> &nbsp;'r--u</code><code class=h6> 1C5</code><code class=t4> ;</code><code class=t3><br>'--lu</code><code class=h6> 165</code><code class=t4> ;</code><code class=t3><br>io</code><code class=h6> 15D</code><code class=t4> ;</code><code class=te></code><code class=t3> &nbsp;data</code><code class=h6> 141</code><code class=t4> ;</code><code class=te></code><code class=t3> &nbsp;up</code><code class=h6> 145</code><code class=t4> ;</code><code class=t3><br>down</code><code class=h6> 115</code><code class=t4> ;</code><code class=te></code><code class=t3> &nbsp;left</code><code class=h6> 175</code><code class=t4> ;</code><code class=te></code><code class=t3> &nbsp;right</code><code class=h6> 1D5</code><code class=t4> ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>708 list
<br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>710 list
<br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>712 list
<br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>714 list
<br><code class=t9>download sram nodes</code><code class=te><br><br></code><code class=t9>node9 address-bus</code><code class=d8> 1 9</code><code class=t1> hoot</code><code class=te><br><br></code><code class=t9>node8 control-pins</code><code class=d8> 1 8</code><code class=t1> hoot right</code><code class=df> 9</code><code class=t1> start</code><code class=te><br><br></code><code class=t9>node7 data-bus</code><code class=d8> 1 7</code><code class=t1> hoot left</code><code class=df> 8</code><code class=t1> start</code><code class=te><br><br></code><code class=t9>node107 interface</code><code class=d8> 1 107</code><code class=t1> hoot down</code><code class=df> 7</code><code class=t1> start</code><code class=te><br><br></code><code class=t9>node108 user</code><code class=d8> 1 108</code><code class=t1> hoot left</code><code class=df> 107</code><code class=t1> start</code><code class=te><br></code><code class=t9>init108</code><code class=t1> left lit rb!</code><code class=te><br><br></code><code class=t1>panel upd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>716 list
<br><code class=t9>download serial nodes</code><code class=te><br><br></code><code class=t9>putchar wires</code><code class=te><br></code><code class=d8>0 103</code><code class=t1> hook left right wire!</code><code class=te><br></code><code class=d8>0 102</code><code class=t1> hook right left wire! right</code><code class=df> 103</code><code class=t1> start</code><code class=te><br></code><code class=d8>0 101</code><code class=t1> hook left right wire! left</code><code class=df> 102</code><code class=t1> start</code><code class=te><br></code><code class=t9>node100 putchar</code><code class=te><br></code><code class=d8>0 100</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> up call right</code><code class=df> 101</code><code class=t1> start</code><code class=te><br></code><code class=t9>node200 getchar</code><code class=te><br></code><code class=d8>0 200</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> right call up</code><code class=df> 100</code><code class=t1> start</code><code class=te><br></code><code class=t9>getchar wires</code><code class=te><br></code><code class=d8>0 201</code><code class=t1> hook right left wire! right</code><code class=df> 200</code><code class=t1> start</code><code class=te><br></code><code class=d8>0 202</code><code class=t1> hook left right wire! left</code><code class=df> 201</code><code class=t1> start</code><code class=te><br></code><code class=d8>0 203</code><code class=t1> hook right left wire! right</code><code class=df> 202</code><code class=t1> start</code><code class=te><br></code><code class=d8>0 204</code><code class=t1> hook left up wire! left</code><code class=df> 203</code><code class=t1> start</code><code class=te><br></code><code class=t9>node104 interface</code><code class=te><br></code><code class=d8>0 104</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> 'rd-- call up</code><code class=df> 204</code><code class=t1> start</code><code class=te><br><br></code><code class=t9>node105 user</code><code class=t1> exit</code><code class=t9> unless testing without e4th</code><code class=te><br></code><code class=d8>0 105</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> '--lu call right</code><code class=df> 104</code><code class=t1> start</code><code class=te><br></code><code class=t9>init105</code><code class=t1> right lit ra!</code><code class=te><br><br></code><code class=t1>panel upd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>718 list
<br><code class=t9>compile eforth.16 from</code><code class=df> 1302</code><code class=te><br><br></code><code class=t9>sram.16</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> address</code><code class=d8> 720</code><code class=t1> load</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> control</code><code class=d8> 722</code><code class=t1> load</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> data</code><code class=d8> 724</code><code class=t1> load</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> interface</code><code class=d8> 726</code><code class=t1> load</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> user</code><code class=d8> 108</code><code class=t1> node</code><code class=d8> 728</code><code class=t1> load</code><code class=te><br></code><code class=t9>exit for testing only sram</code><code class=te><br></code><code class=t9>term.16</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> ide loads wire nodes; see</code><code class=df> 730</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> putchar</code><code class=d8> 100</code><code class=t1> node</code><code class=d8> 732</code><code class=t1> load</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> getchar</code><code class=d8> 200</code><code class=t1> node</code><code class=d8> 734</code><code class=t1> load</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> interface</code><code class=d8> 104</code><code class=t1> node</code><code class=d8> 736</code><code class=t1> load</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> user</code><code class=d8> 105</code><code class=t1> node</code><code class=d8> 738</code><code class=t1> load</code><code class=te><br></code><code class=t9>exit for testing without eforth</code><code class=te><br></code><code class=t9>e4core.16</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> stack</code><code class=d8> 106</code><code class=t1> node</code><code class=d8> 728</code><code class=t1> load</code><code class=d8> 740 2</code><code class=t1> loads</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> bitsy</code><code class=d8> 105</code><code class=t1> node</code><code class=d8> 744 2</code><code class=t1> loads&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> node</code><code class=df> 9</code><code class=t9> suspends while waiting for a16. it<br>uses the two lower page bits to output an</code><code class=te><br></code><code class=t9>18-bit address.</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> a16</code><code class=t9> xx.aaaa.aaaa.aaaa.aaaa</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> p04</code><code class=t9> 00.0000.0000.0000.pppp</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> a18</code><code class=t9> aa.aaaa.aaaa.aaaa.aapp</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the code is written to minimize/equalize <br>the time to output the address, which must be <br>stable when node8 stores the 'start' command.&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>720 list
<br><code class=t9>sram.16 address-bus</code><code class=d8> 9</code><code class=t1> node</code><code class=te><br></code><code class=hd>0AA</code><code class=h8> 20</code><code class=t1> org here boot</code><code class=t3><br>start</code><code class=hd> 020</code><code class=t4> right b! .. data a! ..</code><code class=h6> 3</code><code class=t9> mask</code><code class=t3><br>cmd</code><code class=t9> m</code><code class=hd> 026</code><code class=t4> @b</code><code class=t9> a16</code><code class=t4> 2* 2* over @b -if</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=hd> 028</code><code class=t4> -</code><code class=t9> p04</code><code class=t4> and or</code><code class=t9> a18</code><code class=t4> ! cmd ;</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=hd> 02A</code><code class=t4> then</code><code class=t9> p04</code><code class=t4> and or ..</code><code class=t9> a18</code><code class=t4> ! cmd ;</code><code class=hd> 02C&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> node8 is fed a stop command during start-<br>up, then suspends while waiting for a16. after<br>starting the read or write, it again suspends <br>while waiting for the stop command.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> bits 4..2 of the /possibly inverted/ page<br>value are used 'as-is' to index into the start<br>table, setting two address bits, write enable,<br>and chip enable.</code><code class=t1> ** note that reads and writes<br>are swapped if the page 'overflows' into bit4,<br>with disastrous results **</code><code class=te><br><br></code><code class=t9>cmd index</code><code class=t1> .lit.</code><code class=t9> pin17 pin05 pin03 pin01</code><code class=te><br></code><code class=t9>w00 .0111</code><code class=h8> 2556A</code><code class=t9> a19-0 a18-0 /we-0 /ce-0</code><code class=te><br></code><code class=t9>r00 .0000</code><code class=h8> 2556E</code><code class=t9> a19-0 a18-0 /we-1 /ce-0</code><code class=te><br></code><code class=t9>w01 .0110</code><code class=h8> 2557A</code><code class=t9> a19-0 a18-1 /we-0 /ce-0</code><code class=te><br></code><code class=t9>r01 .0001</code><code class=h8> 2557E</code><code class=t9> a19-0 a18-1 /we-1 /ce-0</code><code class=te><br></code><code class=t9>w10 .0101</code><code class=h8> 3556A</code><code class=t9> a19-1 a18-0 /we-0 /ce-0</code><code class=te><br></code><code class=t9>r10 .0010</code><code class=h8> 3556E</code><code class=t9> a19-1 a18-0 /we-1 /ce-0</code><code class=te><br></code><code class=t9>w11 .0100</code><code class=h8> 3557A</code><code class=t9> a19-1 a18-1 /we-0 /ce-0</code><code class=te><br></code><code class=t9>r11 .0011</code><code class=h8> 3557E</code><code class=t9> a19-1 a18-1 /we-1 /ce-0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>722 list
<br><code class=t9>sram.16 control-pins</code><code class=d8> 8</code><code class=t1> node host</code><code class=t3><br>'r-l-</code><code class=h6> 1F5</code><code class=t4> lit ;</code><code class=t1> target</code><code class=h8> 0</code><code class=t1> org</code><code class=te><br></code><code class=t9>'start' pin control table 0-7</code><code class=te><br></code><code class=hd>000</code><code class=h8> 2556E</code><code class=t9> r00</code><code class=t1> ,</code><code class=h8> 2557E</code><code class=t9> r01</code><code class=t1> ,</code><code class=te><br></code><code class=hd>002</code><code class=h8> 3556E</code><code class=t9> r10</code><code class=t1> ,</code><code class=h8> 3557E</code><code class=t9> r11</code><code class=t1> ,</code><code class=te><br></code><code class=hd>004</code><code class=h8> 3557A</code><code class=t9> w11</code><code class=t1> ,</code><code class=h8> 3556A</code><code class=t9> w10</code><code class=t1> ,</code><code class=te><br></code><code class=hd>006</code><code class=h8> 2557A</code><code class=t9> w01</code><code class=t1> ,</code><code class=h8> 2556A</code><code class=t9> w00</code><code class=t1> ,</code><code class=te><br></code><code class=hd>008</code><code class=h8> 20</code><code class=t1> org here boot</code><code class=t3><br>start</code><code class=hd> 020</code><code class=t4> 'r-l- b! io a!</code><code class=t3><br>cmd</code><code class=hd> 024</code><code class=t4> @b</code><code class=t9> stop</code><code class=t4> ! a push</code><code class=h6> 7</code><code class=t9> mask</code><code class=t4> ..</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> @b</code><code class=t9> a16</code><code class=t4> !b @b</code><code class=t9> +p/-p</code><code class=t4> dup !b</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> 2/ 2/ and</code><code class=t9> i3</code><code class=t4> a! .. @</code><code class=t9> ctrl</code><code class=t4> pop a!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> start</code><code class=t4> ! cmd ;</code><code class=hd> 02C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> node</code><code class=df> 7</code><code class=t9> suspends waiting for a16, then</code><code class=te><br></code><code class=t9>passes it and page/r/w to nodes</code><code class=df> 8</code><code class=t9> and 9. then <br>it controls the data transfer and timing until<br>sending the stop command.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the literals needed for writing are</code><code class=te><br></code><code class=t9>loaded onto the stack and used circularly</code><code class=te><br></code><code class=t9>to save time. /read's drops are free./</code><code class=te><br><br></code><code class=t9>----</code><code class=t4> .lit.</code><code class=t9> pin17 pin05 pin03 pin01</code><code class=te><br></code><code class=t9>stop</code><code class=h6> 3557F</code><code class=t9> a19-1 a18-1 /we-1 /ce-1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>724 list
<br><code class=t9>sram.16 data-bus</code><code class=d8> 7</code><code class=t1> node host</code><code class=t3><br>in</code><code class=h6> 14555</code><code class=t4> lit ;</code><code class=te></code><code class=t3> &nbsp;out</code><code class=h6> 15555</code><code class=t4> lit ;</code><code class=t3><br>stop</code><code class=h6> 3557F</code><code class=t4> lit ;</code><code class=t1> target</code><code class=te><br><br></code><code class=hd>0AA</code><code class=h8> 20</code><code class=t1> org here boot</code><code class=t3><br>start</code><code class=hd> 020</code><code class=t4> left b! out io data stop</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> out io data stop in io a!</code><code class=t9> in</code><code class=t4> !</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> down a!</code><code class=t9> stop</code><code class=t4> !b</code><code class=t3><br>cmd</code><code class=t9> /soid/</code><code class=hd> 031</code><code class=t4> @</code><code class=t9> a16</code><code class=t4> !b @</code><code class=t9> +p/-p</code><code class=t4> -if</code><code class=te><br><br></code><code class=t3>w16</code><code class=t9> /soid/p-</code><code class=hd> 033</code><code class=t9> +p/-p</code><code class=t4> !b</code><code class=te><br></code><code class=t9>/- setup + 45ns</code><code class=t4> @</code><code class=t9> w</code><code class=t4> a push push</code><code class=t9> data</code><code class=t4> a!</code><code class=te><br></code><code class=t4>pop !</code><code class=t9> io</code><code class=t4> a!</code><code class=t9> out</code><code class=t4> !</code><code class=d6> 40</code><code class=t4> for unext</code><code class=t9> stop</code><code class=t4> !b</code><code class=t9> -/</code><code class=te><br></code><code class=t4>in ! pop a! cmd ;</code><code class=te><br><br></code><code class=t3>r16</code><code class=t9> /soid/p-</code><code class=hd> 03C</code><code class=t4> then</code><code class=t9> +p/-p</code><code class=t4> !b</code><code class=te><br></code><code class=t9>/- setup + 55ns</code><code class=t4> a push</code><code class=t9> data</code><code class=t4> a!</code><code class=te><br></code><code class=t9>io</code><code class=t4> drop</code><code class=t9> out</code><code class=t4> drop</code><code class=d6> 50</code><code class=t4> for unext</code><code class=t9> stop</code><code class=t4> !b</code><code class=t9> -/</code><code class=te><br></code><code class=t4>@</code><code class=t9> w</code><code class=t4> pop a! ! cmd ;</code><code class=hd> 043&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> node</code><code class=df> 107</code><code class=t9> polls to select one of its three<br>neighbors' requests. it passes on</code><code class=t4> ex@</code><code class=t9> and</code><code class=t4> ex!</code><code class=t9> <br>requests and implements</code><code class=t4> cx?</code><code class=t9> as passed-on reads<br>and writes plus the required logic.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> each request is uninterruptible.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>726 list
<br><code class=t9>sram.16 interface</code><code class=d8> 107</code><code class=t1> node</code><code class=h8> 0</code><code class=t1> org</code><code class=t3><br>cx</code><code class=t9> wp-</code><code class=hd> 000</code><code class=t4> over push @ dup</code><code class=t9> a</code><code class=t4> !b</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> over</code><code class=t9> p</code><code class=t4> !b @b</code><code class=t9> w</code><code class=t4> pop -</code><code class=t9> w1</code><code class=t4> or if</code><code class=te><br></code><code class=t9>uneq</code><code class=t4> @</code><code class=t9> w2</code><code class=t4> dup or</code><code class=t9> ff</code><code class=t4> ! pop a! ;</code><code class=te><br></code><code class=t9>equal</code><code class=t4> then drop</code><code class=t9> a</code><code class=t4> !b -</code><code class=t9> -p</code><code class=t4> !b @</code><code class=t9> w2</code><code class=t4> !b</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=h6> FFFF</code><code class=t9> tf</code><code class=t4> ! pop a! ;</code><code class=te><br><br></code><code class=t3>e@</code><code class=t9> p-</code><code class=hd> 00A</code><code class=t4> @</code><code class=t9> a</code><code class=t4> !b</code><code class=t9> p</code><code class=t4> !b @b</code><code class=t9> w</code><code class=t4> ! pop a! ;</code><code class=te><br><br></code><code class=t3>cmd</code><code class=t9> n-</code><code class=hd> 00D</code><code class=t4> a push a!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> @</code><code class=t9> p/w</code><code class=t1> ' e@</code><code class=t4> -until @</code><code class=t9> a/p</code><code class=t1> ' cx</code><code class=t4> -until</code><code class=t3><br>e!</code><code class=t9> pa-</code><code class=hd> 010</code><code class=t4> -</code><code class=t9> a</code><code class=t4> !b</code><code class=t9> -p</code><code class=t4> !b @</code><code class=t9> w</code><code class=t4> !b pop a! ;</code><code class=te><br><br></code><code class=hd>013</code><code class=h8> 20</code><code class=t1> org here boot</code><code class=t9> programmed with abandon</code><code class=t3><br>start</code><code class=hd> 020</code><code class=t4> down b! io a!</code><code class=t3><br>poll</code><code class=hd> 024</code><code class=t4> @</code><code class=h6> 8000</code><code class=t4> and if right cmd then</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> @</code><code class=h6> 800</code><code class=t4> and if left cmd then</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> @</code><code class=h6> 200</code><code class=t4> and if up cmd then poll ;</code><code class=hd> 034&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> memory-access words assume that addresses<br>and data are 16-bit parameters with the upper <br>two bits zero and pages are 4-bits with the</code><code class=te><br></code><code class=t9>upper</code><code class=df> 14</code><code class=t9> bits zero. the three memory commands <br>are encoded in the first one or two parameters<br>used, marked with '+' and '-' below.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t3> &nbsp;ex@</code><code class=t1> a +p</code><code class=t4> w</code><code class=t9> fetch</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t3> &nbsp;ex!</code><code class=t1> w -a -p</code><code class=t9> store</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t3> &nbsp;cx?</code><code class=t1> w2 a +p -w1</code><code class=t4> f</code><code class=t9> comp-and-exch</code><code class=te><br></code><code class=t9>the three words access all available memory</code><code class=te><br></code><code class=t9>with the 20-bit p.a address.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> cx?</code><code class=t9> compares value at p.a to w1. if same,<br>writes w2 to p.a and returns true. otherwise, <br>only returns false.</code><code class=t4> x@</code><code class=t9> and</code><code class=t4> x!</code><code class=t9> are 16-bit addr.<br>versions to access the lowest 64k of available</code><code class=te><br></code><code class=t9>memory.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> n2x nqx</code><code class=t9> and</code><code class=t4> test</code><code class=t9> were used in development<br>and may be overwritten by user code.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>728 list
<br><code class=t9>sram.16 user node 106, 108, or 207.</code><code class=h8> 39</code><code class=t1> org</code><code class=t3><br>x!</code><code class=t9> wa-</code><code class=hd> 039</code><code class=t4> dup dup or</code><code class=t3><br>ex!</code><code class=t9> wap-</code><code class=hd> 03A</code><code class=t4> - !b - !b !b ;</code><code class=t3><br>x@</code><code class=t9> a-w</code><code class=hd> 03C</code><code class=t4> dup dup or</code><code class=t3><br>ex@</code><code class=t9> ap-w</code><code class=hd> 03D</code><code class=t4> !b !b @b ;</code><code class=t3><br>cx?</code><code class=t9> wapw-f</code><code class=hd> 03E</code><code class=t4> - !b !b !b !b @b ;</code><code class=te><br><br></code><code class=t3>args</code><code class=t9> wa-waxa</code><code class=hd> 040</code><code class=t4> over over or over ;</code><code class=t3><br>n2x</code><code class=t9> wapn-wa'p</code><code class=hd> 042</code><code class=t4> for push args</code><code class=te><br></code><code class=t4>pop dup push ex!</code><code class=d6> 1</code><code class=t4> . + pop next ;</code><code class=t3><br>nqx</code><code class=t9> wapn-wa'xpn'/wa'ppp</code><code class=hd> 04A</code><code class=t4> for push args</code><code class=te><br></code><code class=t4>pop dup push ex@ or if pop pop ; then</code><code class=te><br></code><code class=t4>drop</code><code class=d6> 1</code><code class=t4> . + pop next dup dup ;</code><code class=te><br><br></code><code class=hd>054</code><code class=h8> 20</code><code class=t1> org here boot</code><code class=t3><br>start</code><code class=hd> 020</code><code class=t9> right</code><code class=t4> left</code><code class=t9> up</code><code class=t4> b! ;</code><code class=t9> softsim fall-thru</code><code class=t3><br>test</code><code class=hd> 022</code><code class=t9> loop for no-testbed softsim</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=h6> ABCD 1234 0</code><code class=t4> ex!</code><code class=h6> 1111 F</code><code class=t4> ex@ test ;</code><code class=hd> 02C&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> with only one word of code, this block is<br>loaded into the nodes by</code><code class=t1> wire!</code><code class=t9> instead of</code><code class=t1> hook</code><code class=t9><br>and</code><code class=t1> boot</code><code class=t9> .</code><code class=t1> wire!</code><code class=t9> also initializes the</code><code class=t4> a</code><code class=t9> and</code><code class=t4> b</code><code class=t9> <br>registers.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>730 list
<br><code class=t9>serial.16 wire</code><code class=h8> 20</code><code class=t1> org</code><code class=t3><br>wire</code><code class=t4> @ !b wire ;</code><code class=hf> 3B40</code><code class=t9> loaded from ide</code><code class=te><br><br></code><code class=hd>021</code><code class=h8> 30</code><code class=t1> org</code><code class=t9> start is run in ide</code><code class=t3><br>start</code><code class=t4> left</code><code class=t9> right up down</code><code class=t4> a!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> left</code><code class=t4> right</code><code class=t9> up down</code><code class=t4> b! wire ;</code><code class=hd> 034&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> tx</code><code class=t9> is inverted for compatibility with the<br>boot node conventions, i.e. mark hi, space lo,<br>data1 lo, data0 hi, start hi, stop lo.</code><code class=te><br><br></code><code class=t3>putchar</code><code class=t9> takes a clean inverted octet and trans<br>mits it low bit first via p17.</code><code class=te><br><br></code><code class=t3>wait</code><code class=t9> suspends while waiting for inverted chara<br>cter or a new delay value.</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> the first terminal operation must set</code><code class=te><br></code><code class=t1>the delay!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> send</code><code class=t9> and</code><code class=t4> send/</code><code class=t9> test the bit timing using <br>external loop-back.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>732 list
<br><code class=t9>serial.16 out</code><code class=h8> 0</code><code class=t1> org</code><code class=t3><br>!bit</code><code class=t9> im-i</code><code class=hd> 000</code><code class=t4> over and</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> if</code><code class=h6> 25555</code><code class=df> 0</code><code class=t4> !b drop ;</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> then</code><code class=h6> 35555</code><code class=df> 1</code><code class=t4> !b drop ;</code><code class=t3><br>putc</code><code class=t9> dc-d</code><code class=hd> 005</code><code class=t4> -</code><code class=t3><br>putchar</code><code class=t9> di-d</code><code class=hd> 006</code><code class=h6> FF</code><code class=t4> or 2*</code><code class=te><br></code><code class=d6>10</code><code class=t4> for</code><code class=hd> 00A</code><code class=t9> 1-start, 8-data, 2-stop bits</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d6> 1</code><code class=t4> !bit 2/ over for . unext</code><code class=te><br></code><code class=t4>next</code><code class=hd> 00E</code><code class=t4> drop</code><code class=t9> weak-pulldown</code><code class=h6> 15555</code><code class=t4> !b ;</code><code class=te><br><br></code><code class=hd>010</code><code class=h8> 20</code><code class=t1> org</code><code class=t9> programmed with abandon</code><code class=t3><br>start</code><code class=t4> io b! right a!</code><code class=d6> 2400</code><code class=t9> est.</code><code class=df> 115200</code><code class=t9> baud</code><code class=t3><br>wait</code><code class=t9> d-.d</code><code class=hd> 025</code><code class=t4> @ -if</code><code class=t9> tx!</code><code class=t4> putchar wait ;</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> then</code><code class=t9> !io</code><code class=t4> up a! ! .. @ right a! wait ;</code><code class=te><br><br></code><code class=t3>send</code><code class=t9> cd</code><code class=hd> 02D</code><code class=t4> over putc send ;</code><code class=t3><br>send/</code><code class=t9> d</code><code class=hd> 02F</code><code class=h6> 40</code><code class=t4> begin dup push putc</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> pop</code><code class=d6> 1</code><code class=t4> . +</code><code class=h6> 5F</code><code class=t4> and end</code><code class=hd> 037&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> rx</code><code class=t9> is inverted for compatibility with the<br>boot node conventions, i.e. mark hi, space lo,<br>data1 lo, data0 hi, start hi, stop lo.</code><code class=te><br><br></code><code class=t3>getchar</code><code class=t9> called after seeing leading edge of st<br>art bit. returns clean inverted character.</code><code class=te><br><br></code><code class=t3>baud</code><code class=t9> space is 1...1'0010.0000'0</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> stop bits ---' .hex..20. '--- start</code><code class=te><br><br></code><code class=t3>idle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>734 list
<br><code class=t9>serial.16 in</code><code class=h8> 28</code><code class=t1> org</code><code class=t3><br>@bit</code><code class=t9> cm-c</code><code class=t4> @b - over - and push and pop or ;</code><code class=t3><br>getc</code><code class=t9> d-dc</code><code class=hd> 02B</code><code class=t4> dup begin drop @b -until</code><code class=t3><br>getchar</code><code class=t9> dx-dc</code><code class=hd> 02D</code><code class=t4> over 2/ for . unext</code><code class=t9> 1/2 bit</code><code class=d6> <br>9</code><code class=t4> for</code><code class=t9> 1-start, 8-data, 1-stop bits</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=h6> 1FFFF</code><code class=t4> @bit 2/ over for . unext</code><code class=te><br></code><code class=t4>next 2/ 2/ 2/ 2/ 2/ 2/ 2/ 2/</code><code class=h6> FF</code><code class=t4> and ;</code><code class=te><br><br></code><code class=t3>baud</code><code class=t9> n-dd</code><code class=hd> 03A</code><code class=t4> if dup ; then - push</code><code class=te><br></code><code class=hd>03D</code><code class=t4> begin @b . -until</code><code class=t9> at start-bit of space</code><code class=te><br></code><code class=hd>03E</code><code class=t4> begin @b - -until</code><code class=t9> at 1-bit</code><code class=te><br></code><code class=hd>03F</code><code class=t4> begin @b . zif then . -until</code><code class=t9> at 0-bits</code><code class=te><br></code><code class=hd>041</code><code class=t4> begin @b - zif then . -until</code><code class=t9> stop-bit</code><code class=te><br></code><code class=t4>pop -</code><code class=t9> n</code><code class=t4> dup 2/ . +</code><code class=t9> 1.5n</code><code class=t4> dup ;</code><code class=te><br><br></code><code class=t3>auto</code><code class=hd> 046</code><code class=t4> a push up a! @ baud ! pop a! dup !</code><code class=t3><br>idle</code><code class=t9> d</code><code class=hd> 04C</code><code class=t4> @b -if getchar -</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> @b 2* - -if over ! then drop drop idle ; <br>then</code><code class=h6> 200</code><code class=t4> and .. if auto ; then drop idle ;</code><code class=te><br><br></code><code class=hd>058</code><code class=h8> 20</code><code class=t1> org</code><code class=t9> programmed with some abandon</code><code class=t3><br>start</code><code class=t4> io b!</code><code class=h6> 5555</code><code class=t4> !b right a!</code><code class=d6> 2400</code><code class=t4> idle ;</code><code class=hd> 027&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> idle</code><code class=t9> is a polling loop waiting for</code><code class=te><br></code><code class=t1>right</code><code class=t9> reading -</code><code class=t1> rx?</code><code class=t9> returns</code><code class=t4> 16-bit inv</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> character</code><code class=t9> from recv queue or</code><code class=d6> 0</code><code class=t9> if</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> queue is empty.</code><code class=te><br></code><code class=t1>right</code><code class=t9> writing - do</code><code class=t1> tx!</code><code class=t9> for</code><code class=t4> 16-bit inv</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> character</code><code class=t9> or</code><code class=t1> iox</code><code class=t9> for</code><code class=t4> 16-bit pos</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> bit delay</code><code class=t9> input.</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> tx!</code><code class=t9> returns the</code><code class=t4> 16-bit inv character</code><code class=t9> when<br>the xmit queue is full and</code><code class=d6> 0</code><code class=t9> otherwise.</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> iox</code><code class=t9> suspends until it puts the</code><code class=t4> 16-bit pos<br>bit delay</code><code class=t9> in the xmit queue and again while it<br>discards any</code><code class=t4> inv characters</code><code class=t9> in the recv queue <br>before the new</code><code class=t4> pos bit delay</code><code class=t9> arrives.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>736 list
<br><code class=t9>serial.16 interface</code><code class=te><br><br></code><code class=h8>20</code><code class=t1> org</code><code class=t9> programmed with abandon</code><code class=t3><br>start</code><code class=t4> io b! right a! ahead</code><code class=t3><br>rx?</code><code class=hd> 024</code><code class=h6> 400</code><code class=t4> and .. if</code><code class=t9> avail</code><code class=t4> up a! @ then</code><code class=t3><br>rtn</code><code class=t9> w-</code><code class=hd> 029</code><code class=h6> FFFF</code><code class=t4> and right a! !</code><code class=te><br></code><code class=t3>idle</code><code class=hd> 02D</code><code class=t4> then @b 2* ..</code><code class=t1> ' rx?</code><code class=t4> -until</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> not read</code><code class=t4> 2*</code><code class=t1> ' idle</code><code class=t4> -until</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> write</code><code class=t4> @ 2* 2* 2/ 2/ .. -if</code><code class=t3><br>tx!</code><code class=t9> c-</code><code class=hd> 033</code><code class=t4> @b</code><code class=h6> 1000</code><code class=t4> and if</code><code class=t9> full</code><code class=t4> drop rtn ;</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> room</code><code class=t4> then left a! over ! rtn ;</code><code class=t3><br>iox</code><code class=t9> c-</code><code class=hd> 03A</code><code class=t4> then left a! !</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> up a! begin @ - -until - rtn ;</code><code class=hd> 040&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> bpopw</code><code class=t9> and</code><code class=t4> bpshw</code><code class=t1> orgs</code><code class=t9> must match bitsy</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> tx?</code><code class=t1> *-*</code><code class=t9> is used to send characters and to<br>set status values, controlled by the sign bit.<br>all data are 16-bit values.</code><code class=te><br><br></code><code class=t4>tx? status values</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> in</code><code class=t9> 0/autobaud, +n/bit delay</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> out</code><code class=t9> +n/bit delay</code><code class=te><br></code><code class=t4>tx? characters</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> in</code><code class=t9> inverted character -c</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> out</code><code class=df> 0</code><code class=t9> if sent, -c if not sent</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> user code must initialize</code><code class=t4> a</code><code class=t9> register with<br>port address of terminal node.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>738 list
<br><code class=t9>serial.16 user</code><code class=h8> 3C</code><code class=t1> org</code><code class=t3><br>rx?</code><code class=t9> -*</code><code class=hd> 03C</code><code class=t4> @ ;</code><code class=t9> * is</code><code class=df> 0</code><code class=t9> or -c</code><code class=t3><br>tx?</code><code class=t9> *-*</code><code class=hd> 03D</code><code class=t4> ! @ ;</code><code class=t9> * see shadow</code><code class=te><br><br></code><code class=hd>03E</code><code class=h8> 20</code><code class=t1> org</code><code class=t9> programmed with some abandon</code><code class=t3><br>start</code><code class=t4> right a! ;</code><code class=t9> serial test code</code><code class=t3><br>key</code><code class=t9> -c</code><code class=hd> 022</code><code class=t4> dup begin drop rx? until</code><code class=h6> FFFF</code><code class=t4> or ;</code><code class=t3><br>emit</code><code class=t9> c-</code><code class=hd> 027</code><code class=t4> begin - tx? - -until drop ;</code><code class=t3><br>echo</code><code class=hd> 02A</code><code class=t4> key dup emit</code><code class=h6> 20</code><code class=t4> or if echo ; then ;</code><code class=t3><br>send</code><code class=t9> c-c</code><code class=hd> 030</code><code class=t4> dup emit send ;</code><code class=t3><br>test</code><code class=t9> c-cf</code><code class=hd> 032</code><code class=t4> dup emit key over or ;</code><code class=t3><br>testing</code><code class=t9> cn-c/ccn</code><code class=hd> 035</code><code class=t4> for test</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> if over or pop ; then drop next ;</code><code class=hd> 03B&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the e4th stack node must abut the memory <br>driver to have fast bidirectional access to</code><code class=te><br></code><code class=t9>external memory.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the code must not overwrite the sram user<br>code compiled from block</code><code class=df> 728</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> psht</code><code class=t9> is placed so it falls into</code><code class=t4> x!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> naming conventions</code><code class=te><br></code><code class=t3>'name</code><code class=t9> for</code><code class=t4> code.e4</code><code class=t9> words</code><code class=te><br></code><code class=t3>*name</code><code class=t9> for</code><code class=t4> usercode.e4</code><code class=t9> optimizations</code><code class=te><br></code><code class=t3>.name</code><code class=t9> for</code><code class=t4> usercode.e4</code><code class=t9> additions</code><code class=t3><br>others</code><code class=t9> are internal words</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> e4th's external data stack grows down</code><code class=te><br></code><code class=t9>with pre-dec writes and post-inc reads.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the stack-node's stack keeps the e4th</code><code class=te><br></code><code class=t1>stack pointer</code><code class=t9> and cached</code><code class=t1> s</code><code class=t9> and</code><code class=t1> t</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> 16-bit words are</code><code class=t1> 00.nnnn.nnnn.nnnn.nnnn&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>740 list
<br><code class=t9>e4.16 stack 1of2</code><code class=te><br></code><code class=t1>' x@ org</code><code class=t3> &nbsp;'au@</code><code class=t9> a-w</code><code class=hd> 03C</code><code class=h8> 0</code><code class=t1> org</code><code class=t3><br>'1+</code><code class=t9> w-w</code><code class=hd> 000</code><code class=d6> 1</code><code class=t4> . +</code><code class=te></code><code class=t3> &nbsp;mask</code><code class=t9> w-w</code><code class=hd> 002</code><code class=h6> FFFF</code><code class=t4> and ;</code><code class=t3><br>*2/</code><code class=t9> w-w</code><code class=hd> 004</code><code class=t4> 2* 2* 2/ 2/ 2/ mask ;</code><code class=t3><br>popt</code><code class=t9> p-pt</code><code class=hd> 006</code><code class=t4> dup '1+ over x@ ;</code><code class=t3><br>'au!</code><code class=t9> pst-p43</code><code class=hd> 008</code><code class=t4> x!</code><code class=t3><br>popst</code><code class=t9> p-pst</code><code class=hd> 009</code><code class=t4> popt</code><code class=t3><br>pops</code><code class=t9> pt-pst</code><code class=hd> 00A</code><code class=t4> push popt pop ;</code><code class=t3><br>pop43</code><code class=t9> pst-p43st</code><code class=hd> 00C</code><code class=t4> push push popst pop pop ;</code><code class=t3><br>'1-</code><code class=t9> w-w</code><code class=hd> 00E</code><code class=d6> -1</code><code class=t4> . + mask ;</code><code class=hd> 011</code><code class=t1> here</code><code class=h8> 37</code><code class=t1> org</code><code class=t3><br>psht</code><code class=t9> pt-p</code><code class=hd> 037</code><code class=t4> push '1- pop over</code><code class=t9> x! ;</code><code class=hd> 039</code><code class=t9> *</code><code class=t1> org</code><code class=t3><br>pshs</code><code class=t9> pst-pt</code><code class=hd> 011</code><code class=t4> push psht pop ;</code><code class=t3><br>pshw</code><code class=t9> pstw-ptw</code><code class=hd> 013</code><code class=t4> push pshs pop ;</code><code class=t3><br>'sp@</code><code class=t9> pst-ptp</code><code class=hd> 015</code><code class=t4> pshs psht dup pops ;</code><code class=t3><br>'sp!</code><code class=t9> ptp-pst</code><code class=hd> 018</code><code class=t4> pshs popst ;</code><code class=t3><br>'drop</code><code class=t9> pst-p3s</code><code class=hd> 01A</code><code class=t4> drop pops ;</code><code class=t3><br>'over</code><code class=t9> pst-pts</code><code class=hd> 01B</code><code class=t4> over pshw ;</code><code class=te><br><br></code><code class=t3>.ex!</code><code class=t9> pst-p54</code><code class=hd> 01C</code><code class=t4> pop43 ex! pops ;</code><code class=t3><br>.ex@</code><code class=t9> pst-p3w</code><code class=hd> 01F</code><code class=t4> ex@ pops ;</code><code class=t3><br>.cx?</code><code class=t9> pst-p5f</code><code class=hd> 021</code><code class=t4> pop43 cx? pops ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the initial sp is reset by</code><code class=t1> cold</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> code must fit before block 740's</code><code class=t4> psht</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> some optimizations are commented out</code><code class=te><br></code><code class=t9>so as not to lose the code for use later when/<br>if some code is put in rom.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>742 list
<br><code class=t9>e4.16 stack 2of2</code><code class=t3><br>*2*</code><code class=t9> w-w</code><code class=hd> 024</code><code class=t4> 2* mask ;</code><code class=t3><br>'or</code><code class=t9> pst-p3w</code><code class=hd> 025</code><code class=t4> over - and</code><code class=t3><br>'xor</code><code class=t9> pst-p3w</code><code class=hd> 026</code><code class=t4> or pops ;</code><code class=t3><br>'and</code><code class=t9> pst-p3w</code><code class=hd> 027</code><code class=t4> and pops ;</code><code class=t3><br>*neg</code><code class=t9> n-n</code><code class=hd> 028</code><code class=t9> '1-</code><code class=t3><br>*inv</code><code class=t9> w-w</code><code class=hd> 028</code><code class=t9> begin</code><code class=t4> - mask ;</code><code class=t3><br>*zeq</code><code class=t9> w-f</code><code class=hd> 029</code><code class=t9> until</code><code class=t4> begin dup or ;</code><code class=t3><br>'zlt</code><code class=t9> n-f</code><code class=hd> 02A</code><code class=t4> 2* 2* -until dup or *inv ;</code><code class=t3><br>'um+</code><code class=t9> uu-uc</code><code class=hd> 02C</code><code class=t4> +</code><code class=h6> 10000</code><code class=t4> over and if or</code><code class=d6> 1</code><code class=t4> ;</code><code class=t3><br>'nop</code><code class=hd> 031</code><code class=t4> then</code><code class=t9> begin</code><code class=t4> ;</code><code class=t3><br>*qdup</code><code class=t9> pst-pst/ptt</code><code class=hd> 032</code><code class=t9> until</code><code class=t3><br>'dup</code><code class=t9> pst-ptt</code><code class=hd> 032</code><code class=t4> dup pshw ;</code><code class=t3><br>'swap</code><code class=t9> st-ts</code><code class=hd> 033</code><code class=t4> over push push drop pop pop ;</code><code class=t3><br>*-</code><code class=t9> pst-p3n</code><code class=hd> 035</code><code class=t9> *neg</code><code class=t3><br>*+</code><code class=t9> pst-p3n</code><code class=hd> 035</code><code class=t4> + mask pops ;</code><code class=te><br></code><code class=hd>037</code><code class=t1> exit</code><code class=t9> start is run in ide</code><code class=t3><br>start</code><code class=t4> right b!</code><code class=d6> 0</code><code class=t4> dup dup</code><code class=t9> sp.s.t</code><code class=t4> --l- ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the bitsy node keeps the return-stack</code><code class=te><br></code><code class=t9>pointer and the interpreter pointer on its</code><code class=te><br></code><code class=t9>stack.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> memory access gets done only through the <br>stack node.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> btc@</code><code class=t9> is included only to provide a unique<br>marker for the stack node's ide single-stepper<br>routine, incurring some overhead on every xt.&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>744 list
<br><code class=t9>e4.16 bitsy 1of2</code><code class=h8> 0</code><code class=t1> org</code><code class=t3><br>rp--</code><code class=t9> r-r</code><code class=hd> 000</code><code class=d6> -1</code><code class=t3><br>+mask</code><code class=t9> nn-w</code><code class=hd> 002</code><code class=t4> +</code><code class=h6> FFFF</code><code class=t4> and ;</code><code class=t3><br>btc@</code><code class=t9> ii-ix</code><code class=hd> 004</code><code class=t4> @p !b !b dup</code><code class=t9> /</code><code class=t4> . @p drop .</code><code class=t9> /</code><code class=t3><br>'ip@</code><code class=te></code><code class=t3> &nbsp;bx@</code><code class=t9> a-w</code><code class=hd> 006</code><code class=t4> @p !b !b .</code><code class=t9> /</code><code class=t4> @p x@</code><code class=t9> /</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> @p !b @b ;</code><code class=t9> /</code><code class=t4> . . . !p</code><code class=t9> /</code><code class=t3><br>'rp@</code><code class=t9> ri-ri</code><code class=hd> 00A</code><code class=t4> over rp--</code><code class=t3><br>bpshw</code><code class=t9> w-</code><code class=hd> 00B</code><code class=t4> @p !b !b ;</code><code class=t9> /</code><code class=t4> @p pshw</code><code class=t9> /</code><code class=te><br><br></code><code class=t3>*con</code><code class=t9> ri-ri</code><code class=hd> 00D</code><code class=t4> 'ip@</code><code class=t3><br>*var</code><code class=t9> ri-ri</code><code class=hd> 00E</code><code class=t4> dup bpshw</code><code class=t3><br>'exit</code><code class=t9> ri-ri</code><code class=hd> 00F</code><code class=t4> drop rp-- dup bx@ ;</code><code class=te><br><br></code><code class=t3>'r@</code><code class=t9> ri-ri</code><code class=hd> 011</code><code class=t4> over rp--</code><code class=t3><br>@2tos</code><code class=t9> a-</code><code class=hd> 012</code><code class=t4> bx@ bpshw ;</code><code class=t3><br>'rfrom</code><code class=t9> ri-*ri</code><code class=hd> 014</code><code class=t4> over rp-- over over @2tos ;</code><code class=t3><br>bpopw</code><code class=t9> -w</code><code class=hd> 016</code><code class=t4> @p !b @b ;</code><code class=t9> /</code><code class=t4> !p pops</code><code class=t9> /</code><code class=t3><br>bx!++</code><code class=t9> aw-a</code><code class=hd> 018</code><code class=t4> @p !b !b dup</code><code class=t9> /</code><code class=t4> . . . @p</code><code class=t9> /</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> @p !b !b .</code><code class=t9> /</code><code class=t4> @p x!</code><code class=t9> /</code><code class=t3><br>rp++</code><code class=te></code><code class=t3> &nbsp;ip++</code><code class=t9> a-a</code><code class=hd> 01C</code><code class=d6> 1</code><code class=t4> +mask ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>notes-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the bit-threaded code technique confines <br>execution to the</code><code class=t4> bitsy</code><code class=t9> loop and a small number<br>of code words. it uses one or more bits of the<br>execution token to select the class-</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> 00.100x.xxaa.aaaa.aaaa</code><code class=t9> code.s-xt</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> 00.110x.xxaa.aaaa.aaaa</code><code class=t9> code.b-xt</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t1> 00.0aaa.aaaa.aaaa.aaaa</code><code class=t9> list-xt</code><code class=te><br></code><code class=t9>-and process the token. code tokens are called<br>while list tokens are interpreted.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the ide can single-step the bitsy node by<br>calling</code><code class=t4> step</code><code class=t9> instead of executing</code><code class=t4> bitsy.</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> the terminal i/o words</code><code class=t4> rx?</code><code class=t9> and</code><code class=t4> tx?</code><code class=t9> are</code><code class=te><br></code><code class=t9>here because they don't fit in the stack node.</code><code class=t1><br>note</code><code class=t9> that they must be in the same location</code><code class=te><br></code><code class=t9>here as they are in block</code><code class=df> 738</code><code class=t9> for the ide test<br>words to work.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>746 list
<br><code class=t9>e4.16 bitsy 2of2</code><code class=t3><br>'exe</code><code class=t9> ri-ri</code><code class=hd> 01E</code><code class=t4> bpopw</code><code class=t3><br>xxt</code><code class=t9> rix-ri</code><code class=hd> 01F</code><code class=t4> 2* 2* -if</code><code class=te><br></code><code class=t9>code rix-ri</code><code class=hd> 020</code><code class=t4> 2* 2/ 2/ 2/ -if</code><code class=te><br></code><code class=t9>code.b rix-ri</code><code class=hd> 022</code><code class=t4> push ;</code><code class=te><br></code><code class=t9>code.s rix-ri</code><code class=hd> 023</code><code class=t4> then</code><code class=h6> 12000</code><code class=t4> or !b ;</code><code class=te><br></code><code class=t9>list rix-ri</code><code class=hd> 025</code><code class=t4> then push bx!++ pop 2/ ;</code><code class=t3><br>step</code><code class=t9> ri-ri</code><code class=hd> 027</code><code class=t4> dup btc@ push ip++ pop xxt ;</code><code class=t3><br>bitsy</code><code class=t9> ri</code><code class=hd> 02A</code><code class=t4> step bitsy ;</code><code class=te><br><br></code><code class=t3>'tor</code><code class=t9> ri-ri</code><code class=hd> 02C</code><code class=t4> push bpopw bx!++ pop ;</code><code class=t3><br>'rp!</code><code class=t9> ri-*ri</code><code class=hd> 02F</code><code class=t4> push bpopw rp++ pop ;</code><code class=t3><br>*lit</code><code class=t9> ri-ri</code><code class=hd> 032</code><code class=t4> dup @2tos ip++ ;</code><code class=t3><br>'if</code><code class=t9> ri-ri</code><code class=hd> 034</code><code class=t4> bpopw if drop ip++ ;</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> then drop 'ip@ ;</code><code class=te><br></code><code class=hd>038</code><code class=h8> 3C</code><code class=t1> org</code><code class=t3><br>.rx?</code><code class=hd> 03C</code><code class=t4> @ bpshw ;</code><code class=t3><br>.tx?</code><code class=hd> 03D</code><code class=t4> @p !b @b .</code><code class=t9> /</code><code class=t4> !p . . @p</code><code class=t9> /</code><code class=t4> ! @ !b ;</code><code class=te><br><br></code><code class=hd>040</code><code class=t1> exit</code><code class=t9> start is run in ide</code><code class=t3><br>start</code><code class=t4> right</code><code class=t9> terminal</code><code class=t4> a! left</code><code class=t9> stack</code><code class=t4> b!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=h6> FFE0 5</code><code class=t9> rp.ip</code><code class=t4> bitsy ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>748 list
<br><code class=t1>html</code><code class=t9> eforth documentation</code><code class=te><br><br></code><code class=t1>named</code><code class=t9> sram.html</code><code class=t1> .hdr</code><code class=d8> 720 730</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 714 716</code><code class=t1> .blks</code><code class=d8> 760 762</code><code class=t1> .blks .tlr</code><code class=te><br><br></code><code class=t1>named</code><code class=t9> serial.html</code><code class=t1> .hdr</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 732 740</code><code class=t1> .blks</code><code class=d8> 730 732</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 716 718</code><code class=t1> .blks</code><code class=d8> 764 768</code><code class=t1> .blks .tlr</code><code class=te><br><br></code><code class=t1>named</code><code class=t9> e4core.html</code><code class=t1> .hdr</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 728 730</code><code class=t1> .blks</code><code class=d8> 740 744</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 738 740</code><code class=t1> .blks</code><code class=d8> 744 748</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 762 764</code><code class=t1> .blks</code><code class=d8> 768 770</code><code class=t1> .blks .tlr</code><code class=te><br><br></code><code class=t1>named</code><code class=t9> eforth.html</code><code class=t1> .hdr</code><code class=d8> 700 770</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 900 902</code><code class=t1> .blks</code><code class=d8> 1302 1304</code><code class=t1> .blks .tlr</code><code class=te><br></code><code class=t1>exit</code><code class=te><br></code><code class=t1>named</code><code class=t9> e4ide.html</code><code class=t1> .hdr</code><code class=d8> 700 702</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 116 120</code><code class=t1> .blks</code><code class=d8> 122 132</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 706 708</code><code class=t1> .blks</code><code class=d8> 1372 1374</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 1376 1380</code><code class=t1> .blks</code><code class=d8> 1424 1428</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 134 138</code><code class=t1> .blks</code><code class=d8> 142 144</code><code class=t1> .blks</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 760 770</code><code class=t1> .blks</code><code class=df> 138 140</code><code class=t9> .blks</code><code class=t1> .tlr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>talk to chip via sram windows async</code><code class=te><br><br></code><code class=t3>1@</code><code class=t9> and</code><code class=t4> 1!</code><code class=t9> byte fetch and store, byte address.</code><code class=t3><br>2@</code><code class=t9> and</code><code class=t4> 2!</code><code class=t9> halfcell fetch/store, byte adr.</code><code class=t3><br>swab</code><code class=t9> and</code><code class=t4> swa4</code><code class=t9> 2-way and 4-way byte swaps.</code><code class=t3><br>a-b</code><code class=t9> and</code><code class=t4> b-a</code><code class=t9> convert cells to+from bytes.</code><code class=te><br><br></code><code class=t3>create</code><code class=t9> used after</code><code class=t1> align</code><code class=t9> to exit with word adr <br>of cell following in dictionary.</code><code class=t1> note that</code><code class=te><br></code><code class=t1>writing into such allocations invalidates</code><code class=te><br></code><code class=t1>nearby instruction cache!</code><code class=t3><br>rez</code><code class=t9> allots n bytes in the dictionary.</code><code class=t3><br>?zero</code><code class=t9> classical zero-equal returning 0 or</code><code class=te><br></code><code class=t9>-1 with indicators.</code><code class=te><br><br></code><code class=t3>act</code><code class=t9> number of selected path, to which</code><code class=t4> vport</code><code class=te><br></code><code class=t9>leads.</code><code class=t3><br>cold</code><code class=t9> sets no active paths.</code><code class=t3><br>reload</code><code class=t9> reset and resend all nodes to chip</code><code class=t3><br>re4th</code><code class=t9> recompile ide and nodes, then reload</code><code class=te><br><br></code><code class=t7>***no canonical opcodes***</code><code class=te><br></code><code class=t1>use the</code><code class=t4> 'remote'</code><code class=t1> ones&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>750 list
<br><code class=t9>windows async</code><code class=d8> 750</code><code class=t1> orgn ! macro</code><code class=t9> replaces</code><code class=df> 114</code><code class=t3><br>1@</code><code class=t9> b-c</code><code class=h6> 8A</code><code class=t4> 2, ;</code><code class=te></code><code class=t3> &nbsp;1!</code><code class=t9> cb</code><code class=t7> a!</code><code class=h6> 288</code><code class=t4> 2,</code><code class=t7> drop</code><code class=t4> ;</code><code class=t3><br>2@</code><code class=t9> b-h</code><code class=h6> 8B66</code><code class=t4> 3, ;</code><code class=te></code><code class=t3> &nbsp;2!</code><code class=t9> hb</code><code class=t7> a!</code><code class=h6> 28966</code><code class=t4> 3,</code><code class=t7> drop</code><code class=t4> ;</code><code class=t3><br>4@</code><code class=t9> b-n</code><code class=h6> 8B</code><code class=t4> 2, ;</code><code class=te></code><code class=t3> &nbsp;4!</code><code class=t9> nb</code><code class=t7> a!</code><code class=h6> 289</code><code class=t4> 2,</code><code class=t7> drop</code><code class=t4> ;</code><code class=t3><br>swab</code><code class=t9> h-h</code><code class=h6> C486</code><code class=t4> 2, ;</code><code class=t3><br>swa4</code><code class=t9> n-n</code><code class=h6> C80F</code><code class=t4> 2, ;</code><code class=t1> forth</code><code class=t3><br>a-b</code><code class=t9> a-b</code><code class=t4> 2* 2* ;</code><code class=te></code><code class=t3> &nbsp;b-a</code><code class=t9> b-a</code><code class=d8> 3</code><code class=t4> + 2/ 2/ ;</code><code class=t3><br>create</code><code class=t9> -a</code><code class=t4> pop b-a ;</code><code class=te></code><code class=t3> &nbsp;rez</code><code class=t9> n</code><code class=t4> h +! ;</code><code class=t3><br>?zero</code><code class=t9> n-n</code><code class=d8> 0</code><code class=t4> or if dup or ; then</code><code class=t9> -</code><code class=d8> -1</code><code class=t4> or ;</code><code class=t3><br>s1+</code><code class=t9> nm-mn'</code><code class=t4> swap</code><code class=d8> 1</code><code class=t4> + ;</code><code class=te><br><br></code><code class=tc>act</code><code class=dc> 0</code><code class=tc> vport</code><code class=dc> 373</code><code class=tc> 0tg</code><code class=dc> 1</code><code class=tc> 1tg</code><code class=dc> 1</code><code class=tc> 2tg</code><code class=dc> 1</code><code class=t3><br>cold</code><code class=d6> 1</code><code class=t1> 0tg</code><code class=t4> !</code><code class=d6> 1</code><code class=t1> 1tg</code><code class=t4> !</code><code class=d6> 1</code><code class=t1> 2tg</code><code class=t4> !</code><code class=d6> 0</code><code class=t1> act</code><code class=t4> ! ;</code><code class=te><br><br></code><code class=t9>ser</code><code class=d8> 116 2</code><code class=t1> loads</code><code class=t9> routes</code><code class=d8> 752</code><code class=t1> load</code><code class=te><br></code><code class=t9>generic</code><code class=d8> 122 5</code><code class=t1> loads</code><code class=t9> rops+ports</code><code class=d8> 706</code><code class=t1> load</code><code class=te><br></code><code class=t9>panel</code><code class=d8> 134</code><code class=t1> load</code><code class=t9> user</code><code class=d8> 136</code><code class=t1> load</code><code class=d8> 142</code><code class=t1> load</code><code class=te><br></code><code class=t9>eforth ide</code><code class=d8> 760 4</code><code class=t1> loads</code><code class=t9> bitsy stepper</code><code class=d8> 758</code><code class=t1> load</code><code class=te><br><br></code><code class=t3>re4th</code><code class=t4> talk e4th ;</code><code class=t9> e4th defined in block</code><code class=df> 900</code><code class=t3><br>e4go</code><code class=t9> from205</code><code class=d6> 0 205</code><code class=t4> hook</code><code class=t9> focus</code><code class=t1> left</code><code class=t4> call</code><code class=te><br></code><code class=t9>start105</code><code class=h6> 1142A</code><code class=t9> 'bitsy ;'</code><code class=t1> up</code><code class=t4> r! ;</code><code class=t3><br>reload</code><code class=d8> 754</code><code class=t4> load ;</code><code class=t1> reload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t3>0pa</code><code class=t9> winds through serial, bitsy, and stack</code><code class=te><br></code><code class=t9>nodes for ide access.</code><code class=t3><br>1pa</code><code class=t9> goes directly to sram.</code><code class=t3><br>2pa</code><code class=t9> is the default, touching every node on the<br>chip.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>752 list
<br><code class=t9>node</code><code class=df> 708</code><code class=t9> route lists -- bitsy -- replaces</code><code class=df> 120</code><code class=t3><br>0pa</code><code class=t4> align create</code><code class=t9> serial+e4core</code><code class=d8> 708</code><code class=t1> ,</code><code class=d8> 707</code><code class=t1> ,</code><code class=d8> 607</code><code class=t1><br>,</code><code class=d8> 507</code><code class=t1> ,</code><code class=d8> 407</code><code class=t1> ,</code><code class=d8> 307</code><code class=t1> ,</code><code class=d8> 207</code><code class=t1> ,</code><code class=d8> 206</code><code class=t1> ,</code><code class=d8> 205</code><code class=t1> ,</code><code class=d8> 105</code><code class=t1> ,</code><code class=d8> 10<br>6</code><code class=t1> ,</code><code class=d8> 6</code><code class=t1> ,</code><code class=d8> 5</code><code class=t1> ,</code><code class=d8> 4</code><code class=t1> ,</code><code class=d8> 104</code><code class=t1> ,</code><code class=d8> 204</code><code class=t1> ,</code><code class=d8> 203</code><code class=t1> ,</code><code class=d8> 202</code><code class=t1> ,</code><code class=d8> 201</code><code class=t1> ,</code><code class=d8> <br>200</code><code class=t1> ,</code><code class=d8> 100</code><code class=t1> ,</code><code class=d8> 101</code><code class=t1> ,</code><code class=d8> 102</code><code class=t1> ,</code><code class=d8> 103</code><code class=t1> ,</code><code class=d8> -1</code><code class=t1> ,</code><code class=t3><br>1pa</code><code class=t4> align create</code><code class=t9> sram</code><code class=d8> 708</code><code class=t1> ,</code><code class=d8> 608</code><code class=t1> ,</code><code class=d8> 508</code><code class=t1> ,</code><code class=d8> 408</code><code class=t1> ,</code><code class=d8> <br>308</code><code class=t1> ,</code><code class=d8> 208</code><code class=t1> ,</code><code class=d8> 108</code><code class=t1> ,</code><code class=d8> 107</code><code class=t1> ,</code><code class=d8> 7</code><code class=t1> ,</code><code class=d8> 8</code><code class=t1> ,</code><code class=d8> 9</code><code class=t1> ,</code><code class=d8> -1</code><code class=t1> ,</code><code class=t3><br>2pa</code><code class=t4> align create</code><code class=d8> 708</code><code class=t1> ,</code><code class=d8> 709</code><code class=t1> ,</code><code class=d8> 710</code><code class=t1> ,</code><code class=d8> 711</code><code class=t1> ,</code><code class=d8> 712</code><code class=t1> ,</code><code class=d8><br>713</code><code class=t1> ,</code><code class=d8> 714</code><code class=t1> ,</code><code class=d8> 715</code><code class=t1> ,</code><code class=d8> 716</code><code class=t1> ,</code><code class=d8> 717</code><code class=t1> ,</code><code class=d8> 617</code><code class=t1> ,</code><code class=d8> 517</code><code class=t1> ,</code><code class=d8> 417</code><code class=t1> <br>,</code><code class=d8> 317</code><code class=t1> ,</code><code class=d8> 217</code><code class=t1> ,</code><code class=d8> 117</code><code class=t1> ,</code><code class=d8> 17</code><code class=t1> ,</code><code class=d8> 16</code><code class=t1> ,</code><code class=d8> 15</code><code class=t1> ,</code><code class=d8> 14</code><code class=t1> ,</code><code class=d8> 13</code><code class=t1> ,</code><code class=d8> 1<br>2</code><code class=t1> ,</code><code class=d8> 11</code><code class=t1> ,</code><code class=d8> 10</code><code class=t1> ,</code><code class=d8> 9</code><code class=t1> ,</code><code class=d8> 8</code><code class=t1> ,</code><code class=d8> 7</code><code class=t1> ,</code><code class=d8> 6</code><code class=t1> ,</code><code class=d8> 5</code><code class=t1> ,</code><code class=d8> 4</code><code class=t1> ,</code><code class=d8> 3</code><code class=t1> ,</code><code class=d8> 2</code><code class=t1> ,</code><code class=d8> <br>1</code><code class=t1> ,</code><code class=d8> 0</code><code class=t1> ,</code><code class=d8> 100</code><code class=t1> ,</code><code class=d8> 101</code><code class=t1> ,</code><code class=d8> 102</code><code class=t1> ,</code><code class=d8> 103</code><code class=t1> ,</code><code class=d8> 104</code><code class=t1> ,</code><code class=d8> 105</code><code class=t1> ,</code><code class=d8> 10<br>6</code><code class=t1> ,</code><code class=d8> 107</code><code class=t1> ,</code><code class=d8> 108</code><code class=t1> ,</code><code class=d8> 109</code><code class=t1> ,</code><code class=d8> 110</code><code class=t1> ,</code><code class=d8> 111</code><code class=t1> ,</code><code class=d8> 112</code><code class=t1> ,</code><code class=d8> 113</code><code class=t1> ,</code><code class=d8> <br>114</code><code class=t1> ,</code><code class=d8> 115</code><code class=t1> ,</code><code class=d8> 116</code><code class=t1> ,</code><code class=t9> rest</code><code class=d8> 140</code><code class=t1> load&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>eforth load script runs after ...</code><code class=te><br><br></code><code class=t9>first,</code><code class=t1> empty</code><code class=t9> just in case.</code><code class=te><br></code><code class=t9>next,</code><code class=t1> compile</code><code class=t9> code from script in block</code><code class=d6> 718</code><code class=te><br></code><code class=t9>then, compile ide</code><code class=d8> 750</code><code class=t1> load</code><code class=t9> and</code><code class=t1> reload</code><code class=t9> chip</code><code class=te><br><br></code><code class=t9>during development various functions are</code><code class=te><br></code><code class=t9>commented out so they can be done by hand.</code><code class=te><br><br></code><code class=t9>the load order leaves the ide in the bitsy</code><code class=te><br></code><code class=t9>node for single stepping.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>754 list
<br><code class=t9>eforth bitsy load script</code><code class=te><br><br></code><code class=t9>initialize ide</code><code class=t1> talk</code><code class=d8> 2 708</code><code class=t1> hook</code><code class=d8> 2</code><code class=t1> -hook</code><code class=te><br><br></code><code class=t9>load sram driver</code><code class=d8> 714</code><code class=t1> load</code><code class=te><br></code><code class=t9>load serial terminal</code><code class=d8> 716</code><code class=t1> load</code><code class=t9> exit</code><code class=te><br><br></code><code class=t9>node106 stack</code><code class=d8> 0 106</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> left call</code><code class=te><br></code><code class=t9>init106</code><code class=t1> right lit rb!</code><code class=t9> io lit ra!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 0</code><code class=t1> lit</code><code class=t9> sp</code><code class=d8> 0</code><code class=t1> lit</code><code class=t9> s</code><code class=d8> 0</code><code class=t1> lit</code><code class=t9> t</code><code class=te><br><br></code><code class=t9>copy eforth.bin !e4th</code><code class=te><br><br></code><code class=t9>node105 bitsy</code><code class=d8> 0 105</code><code class=t1> hoot</code><code class=t9> focus</code><code class=t1> up call</code><code class=te><br></code><code class=t9>start104</code><code class=t1> right</code><code class=df> 104</code><code class=t1> start</code><code class=te><br></code><code class=t9>start106</code><code class=h8> 11575</code><code class=t9> 'left ;'</code><code class=t1> left r!</code><code class=te><br></code><code class=t9>init105</code><code class=t1> right lit ra! left lit rb!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=h8> FFE0</code><code class=t1> lit</code><code class=t9> rp</code><code class=t1> 'cold lit</code><code class=t9> ip</code><code class=te><br><br></code><code class=t1>panel upd exit</code><code class=te><br><br></code><code class=t9>start eforth</code><code class=t1> e4go&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>756 list
<br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>758 list
<br><code class=t9>eforth stepper from bitsy node **not working**</code><code class=t3><br>lf</code><code class=t9> -w</code><code class=t1> left</code><code class=t4> r@ ;</code><code class=te></code><code class=t3> &nbsp;ls</code><code class=t9> w</code><code class=t1> left</code><code class=t4> r! ;</code><code class=t3><br>iof</code><code class=t9> -w</code><code class=t1> io</code><code class=t4> r@</code><code class=d6> 8</code><code class=t4> rsh ;</code><code class=te><br><br></code><code class=t3>bf</code><code class=t9> 2ddea</code><code class=t4> c lf dup ff ;</code><code class=t3><br>xf</code><code class=t9> 563c</code><code class=t4> drop lf lf drop ff ls lf ;</code><code class=t3><br>ds</code><code class=t9> 5618</code><code class=t4> drop lf lit'</code><code class=h6> 18</code><code class=t9> pshw</code><code class=t4> call upd lf ;</code><code class=t3><br>df</code><code class=t9> d611</code><code class=t4> drop get ls</code><code class=h6> 11</code><code class=t9> pops</code><code class=t4> call upd lf ;</code><code class=t3><br>xs</code><code class=t9> 2c9b7</code><code class=t4> drop lf lf drop lf ss lf ;</code><code class=t3><br>xx</code><code class=t9> 11xxx</code><code class=t4> rins upd lf ;</code><code class=te><br><br></code><code class=t3>eq</code><code class=t9> nx-n</code><code class=t4> over or if dup or drop ; then + ;</code><code class=t3><br>s</code><code class=t9> n-in</code><code class=t4> lf</code><code class=t3><br>step</code><code class=h6> 2DDEA</code><code class=t4> eq if bf</code><code class=h6> 8000</code><code class=t4> ? if s ; then ; then</code><code class=h6> <br>563C</code><code class=t4> eq if xf step ; then</code><code class=te><br></code><code class=h6>5618</code><code class=t4> eq if ds step ; then</code><code class=te><br></code><code class=h6>D611</code><code class=t4> eq if df step ; then</code><code class=te><br></code><code class=h6>2C9B7</code><code class=t4> eq if xs step ; then</code><code class=te><br></code><code class=t9>11xxx</code><code class=t4> xx step ;</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>this tester code assumes the ide is hooked to <br>one of the sram user nodes.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>760 list
<br><code class=t9>sram user code from nodes 106, 108,</code><code class=df> 207</code><code class=t3><br>2lit'</code><code class=t9> nn-</code><code class=t4> swap lit' lit' ;</code><code class=t3><br>sm</code><code class=t9> wa-</code><code class=t4> 2lit'</code><code class=h8> 39</code><code class=t9> x!</code><code class=t4> call ;</code><code class=t3><br>sem</code><code class=t9> wap-</code><code class=t4> push 2lit' pop lit'</code><code class=h8> 3A</code><code class=t9> ex!</code><code class=t4> call ;</code><code class=t3><br>fm</code><code class=t9> a-w</code><code class=t4> lit'</code><code class=h8> 3C</code><code class=t9> x@</code><code class=t4> call</code><code class=t3><br>get</code><code class=t9> -w</code><code class=t4> upd</code><code class=t1> stak</code><code class=t4> @ rdrop ;</code><code class=t3><br>fem</code><code class=t9> ap-w</code><code class=t4> 2lit'</code><code class=h8> 3D</code><code class=t9> ex@</code><code class=t4> call get ;</code><code class=t3><br>4lit'</code><code class=t9> nnnn-</code><code class=t4> push push 2lit' pop pop 2lit' ;</code><code class=t3><br>cxm</code><code class=t9> wapw-f</code><code class=t4> 4lit'</code><code class=h8> 3E</code><code class=t9> cx?</code><code class=t4> call get ;</code><code class=te><br><br></code><code class=t9>sram test code</code><code class=t3><br>fmem</code><code class=t9> ap-...</code><code class=d6> 8</code><code class=t4> for push dup i fem</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> s1+ pop next drop drop ;</code><code class=t3><br>smem</code><code class=t9> wapn-</code><code class=t4> for push over over i sem</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> s1+ s1+ pop next drop drop drop ;</code><code class=t3><br>n2x</code><code class=t9> wapn-</code><code class=t4> 4lit'</code><code class=h8> 42</code><code class=t9> n2x</code><code class=t4> call ;</code><code class=t3><br>nqx</code><code class=t9> wapn-</code><code class=t4> 4lit'</code><code class=h8> 4A</code><code class=t9> nqx</code><code class=t4> call ;</code><code class=te><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>this tester code assumes the ide is hooked to <br>one of the sram user nodes. it copies the file</code><code class=t4><br>eforth.bin</code><code class=t9> into ram starting at</code><code class=t4> e4*</code><code class=t9> . the</code><code class=te><br></code><code class=t9>first cell of the file contains the length of <br>the file in cells.</code><code class=te><br><br></code><code class=t3>e4*</code><code class=t9> constant eforth base address</code><code class=t3><br>fh</code><code class=t9> is file handle used locally.</code><code class=t3><br>e4nam</code><code class=t9> is name of file</code><code class=t3><br>e4buf</code><code class=t9> buffer for reading the file.</code><code class=t3><br>+e4th</code><code class=t9> returns nz indicator if good file open.</code><code class=t3><br>-e4th</code><code class=t9> closes the file.</code><code class=t3><br>!img</code><code class=t9> stores</code><code class=t1> n</code><code class=t9> cells of image in</code><code class=t1> e4buf</code><code class=t9> to memor<br>y at</code><code class=t1> e4*</code><code class=t9> .</code><code class=t3><br>!e4th</code><code class=t9> does the whole operation.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>762 list
<br><code class=t9>eforth.bin file copy to sram</code><code class=tc> fh</code><code class=dc> 0</code><code class=t3><br>e4*</code><code class=t9> -a</code><code class=h8> 0</code><code class=hf> 8000</code><code class=t4> ;</code><code class=t9> eforth base address</code><code class=t3><br>'cold</code><code class=t9> -a</code><code class=h8> 5</code><code class=t4> ;</code><code class=t9> eforth cold-start vector address</code><code class=t3><br>e4nam</code><code class=t9> -a</code><code class=t4> align create</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t9> efor</code><code class=h2> 726F6665</code><code class=t1> ,</code><code class=t9> th.b</code><code class=h2> 622E6874</code><code class=t1> ,</code><code class=t9> in</code><code class=h8> 6E69</code><code class=t1> ,</code><code class=t3><br>e4buf</code><code class=t9> -a</code><code class=t4> align create</code><code class=d8> 32768</code><code class=t1> rez</code><code class=te><br><br></code><code class=t3>+e4th</code><code class=t9> -i</code><code class=t4> e4nam r/w fopen if</code><code class=t1> fh</code><code class=t4> ! ; then drop ;</code><code class=t3><br>-e4th</code><code class=t1> fh</code><code class=t4> @</code><code class=d8> 0</code><code class=t4> + if fclose</code><code class=d6> 0</code><code class=t4> then</code><code class=t1> fh</code><code class=t4> ! ;</code><code class=t3><br>!img</code><code class=t9> n</code><code class=t4> push</code><code class=t1> e4buf</code><code class=t4> e4* begin over @ over</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> sm s1+ s1+ next drop drop ;</code><code class=t3><br>!e4th</code><code class=t4> +e4th if</code><code class=t1> e4buf a-b</code><code class=t4> dup</code><code class=d6> 4</code><code class=t1> fh</code><code class=t4> @ frd</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> +</code><code class=t1> e4buf</code><code class=t4> @</code><code class=t9> here</code><code class=t1> e4* -</code><code class=t4> + a-b</code><code class=t1> fh</code><code class=t4> @ frd</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=t4> -e4th b-a</code><code class=d8> 1</code><code class=t4> + !img then ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t3>start</code><code class=t9> send 'jump to</code><code class=hf> 20</code><code class=t9> ' opcode to neighbor</code><code class=t3><br>wire!</code><code class=t9> initialize a wire node - store opcode at<br>m.0 and a+b registers.</code><code class=t3><br>hoot</code><code class=t9> combine</code><code class=t1> hook</code><code class=t9> and</code><code class=t1> boot&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>764 list
<br><code class=t9>ide serial user words</code><code class=t3><br>start</code><code class=t9> a</code><code class=h6> 11420</code><code class=hf> 20</code><code class=t9> org start /start ;/</code><code class=t4> swap r! ;</code><code class=t3><br>wire!</code><code class=t9> io</code><code class=t4> dup call lit'</code><code class=t9> out</code><code class=t4> rb! lit'</code><code class=t9> in</code><code class=t4> ra!</code><code class=te><br></code><code class=hf>20</code><code class=t9> org start</code><code class=h6> 3B40</code><code class=t9> /@ !b start ;/</code><code class=h6> 20</code><code class=t4> r! ;</code><code class=t3><br>hoot</code><code class=t9> pn</code><code class=t4> dup push hook</code><code class=d6> 0 64</code><code class=t4> pop boot ;</code><code class=te><br><br></code><code class=t9>serial testing; only n100 and n200 loaded</code><code class=t3><br>n200</code><code class=d6> 0 200</code><code class=t4> hoot ?ram upd</code><code class=t1> io</code><code class=t4> lit' rb! ;</code><code class=t3><br>auto</code><code class=t9> -b</code><code class=d6> 0</code><code class=t4> lit'</code><code class=h8> 3A</code><code class=t9> baud</code><code class=t4> call get ;</code><code class=t3><br>getc</code><code class=t9> b-c</code><code class=t4> lit' rdup</code><code class=h8> 2B</code><code class=t9> getc</code><code class=t4> call get ;</code><code class=te><br><br></code><code class=t3>n100</code><code class=d6> 0 100</code><code class=t4> hoot ?ram upd</code><code class=t1> io</code><code class=t4> lit' rb!</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=h6> 15555</code><code class=t9> 'mark'</code><code class=t1> io</code><code class=t4> r! ;</code><code class=t3><br>putc</code><code class=t9> bc</code><code class=t4> 2lit'</code><code class=h8> 5</code><code class=t9> putc</code><code class=t4> call upd ;</code><code class=t3><br>send</code><code class=t9> bc</code><code class=t4> lit' lit'</code><code class=h8> 2D</code><code class=t9> send</code><code class=t4> call ;</code><code class=t3><br>send/</code><code class=t9> b</code><code class=t4> lit'</code><code class=h8> 2F</code><code class=t9> send/</code><code class=t4> call ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>766 list
<br><code class=t9>terminal testing in node</code><code class=df> 105</code><code class=t3><br>baud</code><code class=t9> n-n</code><code class=t4> lit'</code><code class=h6> 3D</code><code class=t9> tx?</code><code class=te></code><code class=t3> &nbsp;exec</code><code class=t4> call get ;</code><code class=t3><br>tt</code><code class=t9> c-*</code><code class=t4> - lit'</code><code class=h6> 3B</code><code class=t9> tx?</code><code class=t4> exec ;</code><code class=t9> * is</code><code class=df> 0</code><code class=t9> or -c</code><code class=t3><br>rr</code><code class=t9> -*</code><code class=h6> 3F</code><code class=t9> rx?</code><code class=t4> exec ;</code><code class=t9> * is</code><code class=df> 0</code><code class=t9> or -c</code><code class=t3><br>rkey</code><code class=h6> 22</code><code class=t9> key</code><code class=t4> call ;</code><code class=t3><br>key</code><code class=t9> -c</code><code class=t4> rkey get ;</code><code class=t3><br>remit</code><code class=h6> 26</code><code class=t9> emit</code><code class=t4> call ;</code><code class=t3><br>emit</code><code class=t9> c-</code><code class=t4> lit' remit ;</code><code class=t3><br>recho</code><code class=h6> 29</code><code class=t9> echo</code><code class=t4> call ;</code><code class=t3><br>rsend</code><code class=h6> 2F</code><code class=t9> send</code><code class=t4> call ;</code><code class=t3><br>send</code><code class=t9> c-</code><code class=t4> lit' rsend ;</code><code class=t3><br>rtest</code><code class=h6> 31</code><code class=t9> test</code><code class=t4> call ;</code><code class=t3><br>test</code><code class=t9> c-cf</code><code class=t4> lit' rtest get get swap ;</code><code class=t3><br>rtesting</code><code class=h6> 34</code><code class=t9> testing</code><code class=t4> call ;</code><code class=t3><br>testing</code><code class=t9> cn-</code><code class=t4> 2lit' rtesting ;</code><code class=t3><br>nl</code><code class=h6> D</code><code class=t4> emit</code><code class=h6> A</code><code class=t4> emit rkey rkey rdrop rdrop upd ;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>the stack single-stepper interprets the code.s<br>calls and memory requests from bitsy, stopping<br>only when an xt is being fetched. any you can <br>do anything between steps. the e4th data-stack<br>pointer, s, and t are on the node stack.</code><code class=te><br><br></code><code class=t3>axt</code><code class=t9> stop for all xt's</code><code class=t3><br>lxt</code><code class=t9> stop only at list xt's</code><code class=te><br><br></code><code class=t3>s</code><code class=t9> process requests up to next xt</code><code class=te><br><br></code><code class=t3>bf</code><code class=t9> send</code><code class=t1> ip</code><code class=t9> to stack node as each xt is fetched</code><code class=t3><br>xf</code><code class=t9> fetch from ip or rp address</code><code class=t3><br>ds</code><code class=t9> push e4th data stack, spilling to memory</code><code class=t3><br>df</code><code class=t9> pop e4th data stack, refilling from memory</code><code class=t3><br>xs</code><code class=t9> push word onto return stack</code><code class=t3><br>xx</code><code class=t9> code.s word execution&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>768 list
<br><code class=t9>eforth stack node stepper</code><code class=tc> xt?</code><code class=dc> 0</code><code class=t3><br>axt</code><code class=h6> 0</code><code class=t1> xt?</code><code class=t4> ! ;</code><code class=te></code><code class=t3> &nbsp;lxt</code><code class=h6> 8000</code><code class=t1> xt?</code><code class=t4> ! ;</code><code class=t1> axt</code><code class=t3><br>iof</code><code class=t9> -w</code><code class=t1> io</code><code class=t4> r@</code><code class=d6> 8</code><code class=t4> rsh ;</code><code class=t3><br>lf</code><code class=t9> -w</code><code class=t1> left</code><code class=t4> r@ ;</code><code class=te></code><code class=t3> &nbsp;ls</code><code class=t9> w</code><code class=t1> left</code><code class=t4> r! ;</code><code class=te><br><br></code><code class=t3>bf</code><code class=t9> 2ddea</code><code class=t4> c lf dup fm dup</code><code class=t1> xt?</code><code class=t4> @ and drop ;</code><code class=t3><br>xf</code><code class=t9> 563c</code><code class=t4> drop lf lf drop fm ls lf ;</code><code class=t3><br>ds</code><code class=df> 5613</code><code class=t4> drop lf lit'</code><code class=h8> 13</code><code class=t9> pshw</code><code class=t4> call upd lf ;</code><code class=t3><br>df</code><code class=t9> d60a</code><code class=t4> drop get ls</code><code class=h8> A</code><code class=t9> pops</code><code class=t4> call upd lf ;</code><code class=t3><br>xs</code><code class=t9> 2c9b7</code><code class=t4> drop lf lf drop lf sm lf ;</code><code class=t3><br>xx</code><code class=t9> 12xxx</code><code class=t4> rins upd lf ;</code><code class=te><br><br></code><code class=t3>eq</code><code class=t9> nx-n</code><code class=t4> over or if dup or drop ; then + ;</code><code class=t3><br>s</code><code class=t9> n-in</code><code class=t4> lf</code><code class=te></code><code class=t3> &nbsp;step</code><code class=te><br></code><code class=h6>2DDEA</code><code class=t4> eq if bf if s ; then ; then</code><code class=te><br></code><code class=h6>563C</code><code class=t4> eq if xf step ; then</code><code class=te><br></code><code class=h6>5613</code><code class=t4> eq if ds step ; then</code><code class=te><br></code><code class=h6>D60A</code><code class=t4> eq if df step ; then</code><code class=te><br></code><code class=h6>2C9B7</code><code class=t4> eq if xs step ; then</code><code class=te><br></code><code class=t9>12xxx</code><code class=t4> xx step ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>design load block for okad2 applications</code><code class=t3><br>ex<br>extract</code><code class=t9> netlist for simulation and go into</code><code class=t3><br>flat</code><code class=t9> view of layout - keys</code><code class=t3><br>.<br>....</code><code class=t1> ludr</code><code class=t9> big left up down right</code><code class=t3><br>.432</code><code class=t1> ludr</code><code class=t9> toggle metal 2-4 , move ludr</code><code class=t3><br>....</code><code class=t1> +g1-</code><code class=t9> zoom in, toggle gates, toggle metal1<br>, zoom out</code><code class=t3><br>.</code><code class=t9> exit flat view or simulator with</code><code class=t1> space e spa<br>ce</code><code class=t9> to enter block editor and get new key menu <br>on bottum right</code><code class=t3><br>ha<br>hardsim</code><code class=t9> virtual scope</code><code class=t1> g</code><code class=t4> n</code><code class=t9> go till number</code><code class=t1> h</code><code class=t9> go <br>till key</code><code class=t1> b</code><code class=t9> go 1000 counts , exit with</code><code class=t1> e</code><code class=t3><br>gds</code><code class=t9> consruct gds file image and display</code><code class=t3><br>@gds</code><code class=t9> view file records</code><code class=t3><br>?gds<br>lite</code><code class=t9> brighten the net pointed to - metal-1</code><code class=t3><br>lit</code><code class=t9> brighten an additional net</code><code class=te><br><br></code><code class=t3>e4th</code><code class=d8> 700</code><code class=t9> loads e4th with</code><code class=t4> ide</code><code class=t9> in stack node,</code><code class=te><br>&nbsp;&nbsp;&nbsp;&nbsp;</code><code class=d8> 750</code><code class=t9> in bitsy node.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>900 list
<br><code class=t9>okad tools compile is in cfuse</code><code class=t3><br>c-a-c</code><code class=d6> 154</code><code class=t4> ;</code><code class=t9> gds ascii</code><code class=t3><br>softsim</code><code class=te></code><code class=t3> &nbsp;so</code><code class=d6> 942</code><code class=t4> load ;</code><code class=t3><br>e4th</code><code class=t4> compile</code><code class=d6> 700</code><code class=df> 750</code><code class=t4> load ;</code><code class=t3><br>tile</code><code class=d6> 910</code><code class=t4> load ;</code><code class=t9> layout tiles</code><code class=d8> 146</code><code class=t1> load</code><code class=t3><br>place</code><code class=te></code><code class=t3> &nbsp;pl</code><code class=t4> tile</code><code class=t9> layout and display</code><code class=t3><br>flat</code><code class=te></code><code class=t3> &nbsp;fl</code><code class=d6> 912</code><code class=t4> load ;</code><code class=t9> 2d display</code><code class=t3><br>cover</code><code class=d6> 914</code><code class=t4> load ;</code><code class=t3><br>gds</code><code class=d6> 916</code><code class=t4> load ;</code><code class=t9> construct gds file</code><code class=t3><br>@gds</code><code class=d6> 918</code><code class=t4> load ;</code><code class=t9> display gds</code><code class=t3><br>?gds</code><code class=d6> 920</code><code class=t4> load ;</code><code class=t9> examine gds</code><code class=t3><br>extract</code><code class=te></code><code class=t3> &nbsp;ex</code><code class=d6> 922</code><code class=t4> load ;</code><code class=t9> build tables</code><code class=t3><br>hardsim</code><code class=te></code><code class=t3> &nbsp;ha</code><code class=d6> 924</code><code class=t4> load ;</code><code class=t9> integrate i and v</code><code class=t3><br>hilo</code><code class=d6> 926</code><code class=t4> load ;</code><code class=t9> mark nets above vdd/2</code><code class=t3><br>lite</code><code class=d6> 928</code><code class=t4> load ;</code><code class=t3><br>lit</code><code class=d6> 908</code><code class=t4> load ;</code><code class=t3><br>pram</code><code class=d6> 934</code><code class=t4> load ;</code><code class=t3><br>calc</code><code class=d6> 930</code><code class=t4> load ;</code><code class=t9> tsmc calculation app</code><code class=t3><br>prism</code><code class=d6> 932</code><code class=t4> load ;</code><code class=t9> tsmc spectrum</code><code class=te><br></code><code class=d8>890 3</code><code class=t1> loads</code><code class=t9> design specific&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
<tr>
<td class=cf><br><code class=t9>this load block, and the following</code><code class=df> 25</code><code class=t9> source/s<br>hadow pairs, are yours to do with as you pleas<br>e!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
<td>&nbsp;&nbsp;</td>
<td class=cf>1302 list
<br><code class=t9>custom test code</code><code class=te><br></code><code class=d8>718</code><code class=t1> load</code><code class=t9> eforth.16</code><code class=t1> exit</code><code class=te><br><br></code><code class=d8>1340</code><code class=t1> load</code><code class=t9> flash runner test</code><code class=t1> exit</code><code class=te><br><br></code><code class=d8>0</code><code class=t1> node</code><code class=d8> 0</code><code class=t1> org</code><code class=d8> 1</code><code class=t1> ,</code><code class=h8> 20000</code><code class=t1> ,</code><code class=d8> 1</code><code class=t1> , nnc n-nn bin</code><code class=te><br></code><code class=d8>1332</code><code class=t1> load</code><code class=d8> 1330</code><code class=t1> load</code><code class=t9> flash runner</code><code class=t1> exit</code><code class=te><br><br></code><code class=df>0</code><code class=t9> node</code><code class=df> 1236</code><code class=t9> load smtm test exit</code><code class=te><br><br></code><code class=d8>0</code><code class=t1> node</code><code class=d8> 0</code><code class=t1> org</code><code class=t9> test boot stream</code><code class=te><br></code><code class=h8>1E03E</code><code class=t1> ,</code><code class=h8> 1E03E</code><code class=t1> ,</code><code class=h8> 2</code><code class=t1> ,</code><code class=h8> 1203F</code><code class=t1> ,</code><code class=h8> 1203E</code><code class=t1> ,</code><code class=te><br></code><code class=t1>nnc n-nn bin</code><code class=te><br><br></code><code class=df>1346</code><code class=t9> load multiport write test</code><code class=te><br></code><code class=df>840</code><code class=t9> load md5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br></code><br></td>
</tr>
</table></body></html>
